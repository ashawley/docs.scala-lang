<!DOCTYPE html>
<html>
  <head>
    <title>Конкретные классы параллельных коллекций | Scala Documentation</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" href="/docs.scala-lang/resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="/docs.scala-lang/resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/docs.scala-lang/resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/docs.scala-lang/resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/docs.scala-lang/resources/favicon-16x16.png">
    <link rel="manifest" href="/docs.scala-lang/resources/site.webmanifest">
    <link rel="mask-icon" href="/docs.scala-lang/resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="/docs.scala-lang/resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="/docs.scala-lang/resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>


<div class="navigation-fade-screen"></div>

<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="/docs.scala-lang/resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>
<header id="doc-header">
  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      <a href="/docs.scala-lang/" class="navigation-bdand">
        <img src="/docs.scala-lang/resources/img/documentation-logo@2x.png" alt="">
      </a>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/books.html">Books</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tutorials/FAQ/index.html">Scala FAQs</a>
                  </li>
                
                  <li>
                    <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang/overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/books.html">Books</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tutorials/FAQ/index.html">Scala FAQs</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="/docs.scala-lang/style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="/docs.scala-lang/cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="/docs.scala-lang/glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="/docs.scala-lang/sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">

  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        <div class="titles">
          
            <div class="supertitle">Parallel Collections</div>
          
          <h1>Конкретные классы параллельных коллекций</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<h2 id="Параллельный-Массив">Параллельный Массив</h2>

<p>Последовательность <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/mutable/ParArray.html">ParArray</a> хранит линейный массив смежно хранимых элементов. Это означает, что получение доступа и обновление элементов эффективно, так как происходит путем изменения массива, лежащего в основе. По этой причине наиболее эффективна последовательная обработка элементов одного за другим. Параллельные массивы похожи на обычные в том отношении, что их размер постоянен.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val pa = scala.collection.parallel.mutable.ParArray.tabulate(1000)(x =&gt; 2 * x + 1)
pa: scala.collection.parallel.mutable.ParArray[Int] = ParArray(1, 3, 5, 7, 9, 11, 13,...

scala&gt; pa reduce (_ + _)
res0: Int = 1000000

scala&gt; pa map (x =&gt; (x - 1) / 2)
res1: scala.collection.parallel.mutable.ParArray[Int] = ParArray(0, 1, 2, 3, 4, 5, 6, 7,...
</code></pre></div></div>

<p>Реализация разбивки параллельного массива <a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">разделителями</a> сводится к созданию двух новых разделителей с последующим обновлением их итерационных индексов. <a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">Компоновщики</a> играют более заметную роль. Так как мы не знаем заранее количество элементов (и следовательно, размер массива) при выполнении большинства методов трансформации (например, <code class="highlighter-rouge">flatMap</code>, <code class="highlighter-rouge">filter</code>, <code class="highlighter-rouge">takeWhile</code>, и т.д.), каждый компоновщик, в сущности, является массивом-буфером, у которого операция <code class="highlighter-rouge">+=</code> требует для выполнения амортизированное постоянное время. Разные процессоры добавляют элементы к отдельным компоновщикам параллельного массива, которые потом по цепочке объединяют свои внутренние массивы. Лежащий в основе массив размещается и параллельно заполняется только после того, как становится известным общее число элементов. По этой причине методы трансформации требуют больше ресурсов, чем методы получения доступа. Также стоит заметить, что финальное размещение массива выполняется JVM последовательно, поэтому этот момент может стать узким местом, если даже сама операция отображения весьма нересурсоемкая.</p>

<p>Вызов метода <code class="highlighter-rouge">seq</code> приводит к преобразованию параллельного массива в коллекцию <code class="highlighter-rouge">ArraySeq</code>, которая является его последовательным аналогом. Такое преобразование эффективно, и в основе <code class="highlighter-rouge">ArraySeq</code> остается тот же массив, что и был у исходного параллельного.</p>

<h2 id="Параллельный-вектор">Параллельный вектор</h2>

<p><a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/immutable/ParVector.html">ParVector</a> является неизменяемой последовательностью, временная сложность доступа и обновления которой является логарифмической с низкой константой-множителем.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val pv = scala.collection.parallel.immutable.ParVector.tabulate(1000)(x =&gt; x)
pv: scala.collection.parallel.immutable.ParVector[Int] = ParVector(0, 1, 2, 3, 4, 5, 6, 7, 8, 9,...

scala&gt; pv filter (_ % 2 == 0)
res0: scala.collection.parallel.immutable.ParVector[Int] = ParVector(0, 2, 4, 6, 8, 10, 12, 14, 16, 18,...
</code></pre></div></div>

<p>Неизменяемые векторы представлены 32-ичными деревьями (32-way trees), поэтому <a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">разделители</a> разбивают их, назначая по поддереву каждому новому разделителю.
<a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">Компоновщики</a> в настоящий момент хранят вектор из элементов и компонуют путем отложенного копирования. По этой причине методы трансформации менее масштабируемы по сравнению с теми же методами параллельного массива. Как только в будущем релизе Scala станет доступной операция конкатенации векторов, компоновщики станут образовываться путем конкатенации, и от этого методы трансформации станут гораздо более эффективными.</p>

<p>Параллельный вектор является параллельным аналогом последовательной коллекции <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/immutable/Vector.html">Vector</a>, и преобразования одного в другое занимают постоянное время.</p>

<h2 id="Параллельный-диапазон">Параллельный диапазон</h2>

<p><a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/immutable/ParRange.html">ParRange</a> представляет собой упорядоченную последовательность элементов, отстоящих друг от друга на одинаковые промежутки. Параллельный диапазон создается подобно последовательному <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/immutable/Range.html">Range</a>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; 1 to 3 par
res0: scala.collection.parallel.immutable.ParRange = ParRange(1, 2, 3)

scala&gt; 15 to 5 by -2 par
res1: scala.collection.parallel.immutable.ParRange = ParRange(15, 13, 11, 9, 7, 5)
</code></pre></div></div>

<p>Подобно тому, как последовательные диапазоны не имеют строителей, параллельные диапазоны не имеют <a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">компоновщиков</a>. При создании отображения (mapping) элементов параллельного диапазона получается параллельный вектор. Последовательные и параллельные диапазоны могут эффективно преобразовываться друг в друга вызовами методов <code class="highlighter-rouge">seq</code> и <code class="highlighter-rouge">par</code>.</p>

<h2 id="Параллельные-хэш-таблицы">Параллельные хэш-таблицы</h2>

<p>В основе параллельной хэш-таблицы лежит массив, причем место элемента таблицы в этом массиве определяется хэш-кодом элемента. На хэш-таблицах основаны параллельные изменяемые хэш-множества (<a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/mutable/ParHashSet.html">mutable.ParHashSet</a>) и параллельные изменяемые ассоциативные хэш-массивы (хэш-отображения) (<a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/mutable/ParHashMap.html">mutable.ParHashMap</a>).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val phs = scala.collection.parallel.mutable.ParHashSet(1 until 2000: _*)
phs: scala.collection.parallel.mutable.ParHashSet[Int] = ParHashSet(18, 327, 736, 1045, 773, 1082,...

scala&gt; phs map (x =&gt; x * x)
res0: scala.collection.parallel.mutable.ParHashSet[Int] = ParHashSet(2181529, 2446096, 99225, 2585664,...
</code></pre></div></div>

<p>Компоновщики параллельных хэш-таблиц распределяют элементы по блокам в соответствии с префиксом их хэш-кода. Компонуют же они простой конкатенацией таких блоков. Когда хэш-таблица окажется окончательно сформированной (то есть, когда будет вызван метод <code class="highlighter-rouge">result</code> компоновщика), размещается лежащий в основе массив и элементы из различных блоков параллельно копируются в различные смежнолежащие сегменты этого массива.</p>

<p>Последовательные хэш-отображения и хэш-множества могут преобразовываться в свои параллельные аналоги с помощью метода <code class="highlighter-rouge">par</code>. Внутри параллельной хэш-таблицы требуется поддерживать карту размеров, которая отслеживает количество элементов в различных ее частях. Это значит, что при первом преобразовании последовательной хэш-таблицы в параллельную, вся она просматривается с целью создания карты размеров - по этой причине первый вызов метода <code class="highlighter-rouge">par</code> требует линейного по отношению к числу элементов времени выполнения. При дальнейших изменениях хэш-таблицы ее карта размеров поддерживается в актуальном состоянии, поэтому последующие преобразования вызовами <code class="highlighter-rouge">par</code> и <code class="highlighter-rouge">seq</code> имеют постоянную сложность. Впрочем, поддержку карты размеров можно и отключить, используя метод <code class="highlighter-rouge">useSizeMap</code> хэш-таблицы. Важный момент: изменения, сделанные в последовательной хэш-таблице, видны в параллельной, и наоборот.</p>

<h2 id="Параллельные-префиксные-хэш-деревья-hash-tries">Параллельные префиксные хэш-деревья (Hash Tries)</h2>

<p>Параллельные префиксные хэш-деревья являются параллельным аналогом неизменяемых префиксных хэш-деревьев, которые используются для эффективного представления неизменяемых множеств и ассоциативных массивов. Последние представлены классами <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/immutable/ParHashSet.html">immutable.ParHashSet</a> и <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/immutable/ParHashMap.html">immutable.ParHashMap</a>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val phs = scala.collection.parallel.immutable.ParHashSet(1 until 1000: _*)
phs: scala.collection.parallel.immutable.ParHashSet[Int] = ParSet(645, 892, 69, 809, 629, 365, 138, 760, 101, 479,...

scala&gt; phs map { x =&gt; x * x } sum
res0: Int = 332833500
</code></pre></div></div>

<p><a href="/docs.scala-lang/overviews/parallel-collections/architecture.html">Компоновщики</a> параллельных хэш-деревьев действуют аналогично компоновщикам хэш-таблиц, а именно предварительно распределяют элементы по блокам, а после этого параллельно составляют результирующее хэш-дерево, назначая обработку различных блоков разным процессорам, каждый из которых независимо собирает свое поддерево.</p>

<p>Параллельные хэш-деревья могут за постоянное время преобразовываться вызовами методов <code class="highlighter-rouge">seq</code> и <code class="highlighter-rouge">par</code> в последовательные хэш-деревья и обратно.</p>

<h2 id="Параллельные-многопоточные-префиксные-деревья-concurrent-tries">Параллельные многопоточные префиксные деревья (Concurrent Tries)</h2>

<p>Параллельным аналогом коллекции <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/concurrent/TrieMap.html">concurrent.TrieMap</a>, представляющей собой многопоточный и потокозащищеный ассоциативный массив, является коллекция <a href="http://www.scala-lang.org/api/2.12.2/scala/collection/parallel/mutable/ParTrieMap.html">mutable.ParTrieMap</a>. В то время, как большинство многопоточных структур данных не гарантируют правильного перебора элементов в случае, если эта структура данных была изменена во время ее прохождения, многопоточные деревья <code class="highlighter-rouge">Ctries</code> гарантируют, что обновленные данные станут видны только при следующем прохождении. Это означает, что можно изменять многопоточное дерево прямо во время прохождения, как в следующем примере, в котором выводятся квадратные корни от 1 до 99:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val numbers = scala.collection.parallel.mutable.ParTrieMap((1 until 100) zip (1 until 100): _*) map { case (k, v) =&gt; (k.toDouble, v.toDouble) }
numbers: scala.collection.parallel.mutable.ParTrieMap[Double,Double] = ParTrieMap(0.0 -&gt; 0.0, 42.0 -&gt; 42.0, 70.0 -&gt; 70.0, 2.0 -&gt; 2.0,...

scala&gt; while (numbers.nonEmpty) {
     |   numbers foreach { case (num, sqrt) =&gt;
	 |     val nsqrt = 0.5 * (sqrt + num / sqrt)
	 |     numbers(num) = nsqrt
	 |     if (math.abs(nsqrt - sqrt) &lt; 0.01) {
	 |       println(num, nsqrt)
	 |		 numbers.remove(num)
	 |	   }
	 |   }
	 | }
(1.0,1.0)
(2.0,1.4142156862745097)
(7.0,2.64576704419029)
(4.0,2.0000000929222947)
...
</code></pre></div></div>

<p><a href="/docs.scala-lang/ru/overviews/parallel-collections/architecture.html">Компоновщики</a> реализованы как <code class="highlighter-rouge">TrieMap</code>– так как эта структура является многопоточной, при вызове метода трансформации создается только один компоновщик, разделяемый всеми процессорами.</p>

<p>Как и в случае с другими параллельными изменяемыми коллекциями, экземпляры <code class="highlighter-rouge">TrieMap</code> и параллельных <code class="highlighter-rouge">ParTrieMap</code>, полученные вызовом методов <code class="highlighter-rouge">seq</code> или <code class="highlighter-rouge">par</code>, хранят данные в одном и том же хранилище, поэтому модификации одной коллекции видны в другой. Такие преобразования занимают постоянное время.</p>

<h2 id="Характеристики-производительности">Характеристики производительности</h2>

<p>Характеристики производительности последовательных типов (sequence types):</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>head</th>
      <th>tail</th>
      <th>apply</th>
      <th>update</th>
      <th>prepend</th>
      <th>append</th>
      <th>insert</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ParArray</code></td>
      <td>C</td>
      <td>L</td>
      <td>C</td>
      <td>C</td>
      <td>L</td>
      <td>L</td>
      <td>L</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ParVector</code></td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ParRange</code></td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p>Характеристики производительности множеств (set) и ассоциативных массивов (map):</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>lookup</th>
      <th>add</th>
      <th>remove</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>неизменяемые</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ParHashSet</code>/<code class="highlighter-rouge">ParHashMap</code></td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
    </tr>
    <tr>
      <td><strong>изменяемые</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ParHashSet</code>/<code class="highlighter-rouge">ParHashMap</code></td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ParTrieMap</code></td>
      <td>eC</td>
      <td>eC</td>
      <td>eC</td>
    </tr>
  </tbody>
</table>

<h3 id="Расшифровка">Расшифровка</h3>

<p>Обозначения в двух представленных выше таблицах означают следующее:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>C</strong></td>
      <td>Операция (быстрая) выполняется за постоянное время.</td>
    </tr>
    <tr>
      <td><strong>eC</strong></td>
      <td>Операция выполняется за фактически постоянное время, но только при соблюдении некоторых предположений, например о максимальной длине вектора или распределении хэш-кодов.</td>
    </tr>
    <tr>
      <td><strong>aC</strong></td>
      <td>Операция выполняется за амортизированное постоянное время. Некоторые вызовы операции могут выполняться медленнее, но при подсчете времени выполнения большого количества операций выходит, что в среднем на операцию требуется постоянное время.</td>
    </tr>
    <tr>
      <td><strong>Log</strong></td>
      <td>Операция занимает время, пропорциональное логарифму размера коллекции.</td>
    </tr>
    <tr>
      <td><strong>L</strong></td>
      <td>Операция линейна, то есть занимает время, пропорциональное размеру коллекции.</td>
    </tr>
    <tr>
      <td><strong>-</strong></td>
      <td>Операция не поддерживается.</td>
    </tr>
  </tbody>
</table>

<p>Первая таблица трактует последовательные типы– изменяемые и неизменяемые– в контексте выполнения следующих операций:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>head</strong></td>
      <td>Получение первого элемента последовательности.</td>
    </tr>
    <tr>
      <td><strong>tail</strong></td>
      <td>Получение новой последовательности, состоящей из всех элементов исходной, кроме первого.</td>
    </tr>
    <tr>
      <td><strong>apply</strong></td>
      <td>Индексирование.</td>
    </tr>
    <tr>
      <td><strong>update</strong></td>
      <td>Функциональное обновление (с помощью <code class="highlighter-rouge">updated</code>) для неизменяемых последовательностей, обновление с побочными действиями (с помощью <code class="highlighter-rouge">update</code>) для изменяемых.</td>
    </tr>
    <tr>
      <td><strong>prepend</strong></td>
      <td>Добавление элемента в начало последовательности. Для неизменяемых последовательностей создается новая последовательность, для изменяемых– модифицируется существующая.</td>
    </tr>
    <tr>
      <td><strong>append</strong></td>
      <td>Добавление элемента в конец последовательности. Для неизменяемых последовательностей создается новая последовательность, для изменяемых– модифицируется существующая.</td>
    </tr>
    <tr>
      <td><strong>insert</strong></td>
      <td>Вставка элемента в выбранную позицию последовательности. Поддерживается только изменяемыми последовательностями.</td>
    </tr>
  </tbody>
</table>

<p>Вторая таблица рассматривает изменяемые и неизменяемые множества и ассоциативные массивы в контексте следующих операций:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>lookup</strong></td>
      <td>Проверка принадлежности элемента множеству, или получение значения, ассоциированного с ключом.</td>
    </tr>
    <tr>
      <td><strong>add</strong></td>
      <td>Добавление нового элемента во множество или новой пары ключ/значение в ассоциативный массив.</td>
    </tr>
    <tr>
      <td><strong>remove</strong></td>
      <td>Удаление элемента из множества или ключа из ассоциативного массива.</td>
    </tr>
    <tr>
      <td><strong>min</strong></td>
      <td>Минимальный элемент множества или минимальный ключ ассоциативного массива.</td>
    </tr>
  </tbody>
</table>

				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
		<div class="inner-toc" id="sidebar-toc">

      <ul>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/overview.html">Обзор</a></li>
                
              
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/concrete-parallel-collections.html">Конкретные классы параллельных коллекций</a></li>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
            <div id="toc"></div>
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/configuration.html">Конфигурирование параллельных коллекций</a></li>
                
              
                
              
                
              
                
              
                
              
                
              
            
            <div id="toc"></div>
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/conversions.html">Преобразования параллельных коллекций</a></li>
                
              
                
              
                
              
                
              
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/ctries.html">Многопоточные префиксные деревья</a></li>
                
              
                
              
                
              
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/architecture.html">Архитектура библиотеки параллельных коллекций</a></li>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/custom-parallel-collections.html">Создание пользовательской параллельной коллекции</a></li>
                
              
                
              
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <li><a href="//docs.scala-langru/overviews/parallel-collections/performance.html">Измерение производительности</a></li>
                
              
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>

      
         
         
        <ul id="available-languages" style="display: none;">
          <li><a href="/docs.scala-lang/overviews/parallel-collections/concrete-parallel-collections.html">English</a></li>
          
            
            <li><a href="/docs.scala-lang/ja/overviews/parallel-collections/concrete-parallel-collections.html" class="lang">日本語</a></li>
          
            
            <li><a href="/docs.scala-lang/zh-cn/overviews/parallel-collections/concrete-parallel-collections.html" class="lang">中文 (简体)</a></li>
          
            
            <li><a href="/docs.scala-lang/es/overviews/parallel-collections/concrete-parallel-collections.html" class="lang">Español</a></li>
          
            
            <li><a href="/docs.scala-lang/ru/overviews/parallel-collections/concrete-parallel-collections.html" class="lang">Русский</a></li>
          
        </ul>
      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/master/_ru/overviews/parallel-collections/concrete-parallel-collections.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/docs.scala-lang/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/docs.scala-lang/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.12/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="/docs.scala-lang/resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="/docs.scala-lang/scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="/docs.scala-lang/resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>

<!-- moment js -->
<script src="/docs.scala-lang/resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="/docs.scala-lang/resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="/docs.scala-lang/resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="/docs.scala-lang/resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="/docs.scala-lang/resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="/docs.scala-lang/resources/js/vendor/jquery.sticky.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="/docs.scala-lang/resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom javascript -->
<script src="/docs.scala-lang/resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'fbc439670f5d4e3730cdcb715c359391',
indexName: 'scala-lang',
inputSelector: '#doc-search-bar',
algoliaOptions: { 'facetFilters': ["language:en"] },
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>

</html>

