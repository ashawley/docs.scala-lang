<!DOCTYPE html>
<html>
  <head>
    <title>Overview | Scala Documentation</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" href="/resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="/resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/favicon-16x16.png">
    <link rel="manifest" href="/resources/site.webmanifest">
    <link rel="mask-icon" href="/resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="/resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="/resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>


<div class="navigation-fade-screen"></div>

<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="/resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>
<header id="doc-header">
  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      <a href="/" class="navigation-bdand">
        <img src="/resources/img/documentation-logo@2x.png" alt="">
      </a>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
                  </li>
                
                  <li>
                    <a href="/api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    <a href="/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    <a href="/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    <a href="/learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    <a href="/books.html">Books</a>
                  </li>
                
                  <li>
                    <a href="/tutorials/FAQ/index.html">Scala FAQs</a>
                  </li>
                
                  <li>
                    <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
              </li>
            
              <li>
                <a href="/api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="/learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="/overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="/books.html">Books</a>
              </li>
            
              <li>
                <a href="/tutorials/FAQ/index.html">Scala FAQs</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="/style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="/cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="/glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="/sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">

  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        <div class="titles">
          
            <div class="supertitle">Reflection</div>
          
          <h1>Overview</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p><span class="label important" style="float: right;">EXPERIMENTAL</span></p>

<p><strong>Heather Miller, Eugene Burmako, Philipp Haller</strong></p>

<p><em>Reflection</em> is the ability of a program to inspect, and possibly even modify
itself. It has a long history across object-oriented, functional,
and logic programming paradigms.
While some languages are built around reflection as a guiding principle, many
languages progressively evolve their reflection abilities over time.</p>

<p>Reflection involves the ability to <strong>reify</strong> (ie. make explicit) otherwise-implicit
elements of a program. These elements can be either static program elements
like classes, methods, or expressions, or dynamic elements like the current
continuation or execution events such as method invocations and field accesses.
One usually distinguishes between compile-time and runtime reflection depending
on when the reflection process is performed. <strong>Compile-time reflection</strong>
is a powerful way to develop program transformers and generators, while
<strong>runtime reflection</strong> is typically used to adapt the language semantics
or to support very late binding between software components.</p>

<p>Until 2.10, Scala has not had any reflection capabilities of its own. Instead,
one could use part of the Java reflection API, namely that dealing with providing
the ability to dynamically inspect classes and objects and access their members.
However, many Scala-specific elements are unrecoverable under standalone Java reflection,
which only exposes Java elements (no functions, no traits)
and types (no existential, higher-kinded, path-dependent and abstract types).
In addition, Java reflection is also unable to recover runtime type info of Java types
that are generic at compile-time; a restriction that carried through to runtime
reflection on generic types in Scala.</p>

<p>In Scala 2.10, a new reflection library was introduced not only to address the shortcomings
of Java’s runtime reflection on Scala-specific and generic types, but to also
add a more powerful toolkit of general reflective capabilities to Scala. Along
with full-featured runtime reflection for Scala types and generics, Scala 2.10 also
ships with compile-time reflection capabilities, in the form of
<a href="/overviews/macros/overview.html">macros</a>, as well as the
ability to <em>reify</em> Scala expressions into abstract syntax trees.</p>

<h2 id="runtime-reflection">Runtime Reflection</h2>

<p>What is runtime reflection? Given a type or instance of some object at <strong>runtime</strong>,
reflection is the ability to:</p>

<ul>
  <li>inspect the type of that object, including generic types,</li>
  <li>to instantiate new objects,</li>
  <li>or to access or invoke members of that object.</li>
</ul>

<p>Let’s jump in and see how to do each of the above with a few examples.</p>

<h3 id="examples">Examples</h3>

<h4 id="inspecting-a-runtime-type-including-generic-types-at-runtime">Inspecting a Runtime Type (Including Generic Types at Runtime)</h4>

<p>As with other JVM languages, Scala’s types are <em>erased</em> at compile time. This
means that if you were to inspect the runtime type of some instance, that you
might not have access to all type information that the Scala compiler has
available at compile time.</p>

<p><code class="highlighter-rouge">TypeTags</code> can be thought of as objects which carry along all type information
available at compile time, to runtime. Though, it’s important to note that
<code class="highlighter-rouge">TypeTag</code>s are always generated by the compiler. This generation is triggered
whenever an implicit parameter or context bound requiring a <code class="highlighter-rouge">TypeTag</code> is used.
This means that, typically, one can only obtain a <code class="highlighter-rouge">TypeTag</code> using implicit
parameters or context bounds.</p>

<p>For example, using context bounds:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; import scala.reflect.runtime.{universe =&gt; ru}
import scala.reflect.runtime.{universe=&gt;ru}

scala&gt; val l = List(1,2,3)
l: List[Int] = List(1, 2, 3)

scala&gt; def getTypeTag[T: ru.TypeTag](obj: T) = ru.typeTag[T]
getTypeTag: [T](obj: T)(implicit evidence$1: ru.TypeTag[T])ru.TypeTag[T]

scala&gt; val theType = getTypeTag(l).tpe
theType: ru.Type = List[Int]
</code></pre></div></div>

<p>In the above, we first import <code class="highlighter-rouge">scala.reflect.runtime.universe</code> (it must always
be imported in order to use <code class="highlighter-rouge">TypeTag</code>s), and we create a <code class="highlighter-rouge">List[Int]</code> called
<code class="highlighter-rouge">l</code>. Then, we define a method <code class="highlighter-rouge">getTypeTag</code> which has a type parameter <code class="highlighter-rouge">T</code> that
has a context bound (as the REPL shows, this is equivalent to defining an
implicit “evidence” parameter, which causes the compiler to generate a
<code class="highlighter-rouge">TypeTag</code> for <code class="highlighter-rouge">T</code>). Finally, we invoke our method with <code class="highlighter-rouge">l</code> as its parameter,
and call <code class="highlighter-rouge">tpe</code> which returns the type contained in the <code class="highlighter-rouge">TypeTag</code>. As we can
see, we get the correct, complete type (including <code class="highlighter-rouge">List</code>’s concrete type
argument), <code class="highlighter-rouge">List[Int]</code>.</p>

<p>Once we have obtained the desired <code class="highlighter-rouge">Type</code> instance, we can inspect it, e.g.:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val decls = theType.decls.take(10)
decls: Iterable[ru.Symbol] = List(constructor List, method companion, method isEmpty, method head, method tail, method ::, method :::, method reverse_:::, method mapConserve, method ++)
</code></pre></div></div>

<h4 id="instantiating-a-type-at-runtime">Instantiating a Type at Runtime</h4>

<p>Types obtained through reflection can be instantiated by invoking their
constructor using an appropriate “invoker” mirror (mirrors are expanded upon
<a href="/overviews/reflection/overview.html#mirrors">below</a>). Let’s
walk through an example using the REPL:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; case class Person(name: String)
defined class Person

scala&gt; val m = ru.runtimeMirror(getClass.getClassLoader)
m: scala.reflect.runtime.universe.Mirror = JavaMirror with ...
</code></pre></div></div>

<p>In the first step we obtain a mirror <code class="highlighter-rouge">m</code> which makes all classes and types
available that are loaded by the current classloader, including class
<code class="highlighter-rouge">Person</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val classPerson = ru.typeOf[Person].typeSymbol.asClass
classPerson: scala.reflect.runtime.universe.ClassSymbol = class Person

scala&gt; val cm = m.reflectClass(classPerson)
cm: scala.reflect.runtime.universe.ClassMirror = class mirror for Person (bound to null)
</code></pre></div></div>

<p>The second step involves obtaining a <code class="highlighter-rouge">ClassMirror</code> for class <code class="highlighter-rouge">Person</code> using
the <code class="highlighter-rouge">reflectClass</code> method. The <code class="highlighter-rouge">ClassMirror</code> provides access to the
constructor of class <code class="highlighter-rouge">Person</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val ctor = ru.typeOf[Person].decl(ru.termNames.CONSTRUCTOR).asMethod
ctor: scala.reflect.runtime.universe.MethodSymbol = constructor Person
</code></pre></div></div>

<p>The symbol for <code class="highlighter-rouge">Person</code>s constructor can be obtained using only the runtime
universe <code class="highlighter-rouge">ru</code> by looking it up in the declarations of type <code class="highlighter-rouge">Person</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val ctorm = cm.reflectConstructor(ctor)
ctorm: scala.reflect.runtime.universe.MethodMirror = constructor mirror for Person.&lt;init&gt;(name: String): Person (bound to null)

scala&gt; val p = ctorm("Mike")
p: Any = Person(Mike)
</code></pre></div></div>

<h4 id="accessing-and-invoking-members-of-runtime-types">Accessing and Invoking Members of Runtime Types</h4>

<p>In general, members of runtime types are accessed using an appropriate
“invoker” mirror (mirrors are expanded upon
<a href="/overviews/reflection/overview.html#mirrors">below</a>).
Let’s walk through an example using the REPL:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; case class Purchase(name: String, orderNumber: Int, var shipped: Boolean)
defined class Purchase

scala&gt; val p = Purchase("Jeff Lebowski", 23819, false)
p: Purchase = Purchase(Jeff Lebowski,23819,false)
</code></pre></div></div>

<p>In this example, we will attempt to get and set the <code class="highlighter-rouge">shipped</code> field of
<code class="highlighter-rouge">Purchase</code> <code class="highlighter-rouge">p</code>, reflectively.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; import scala.reflect.runtime.{universe =&gt; ru}
import scala.reflect.runtime.{universe=&gt;ru}

scala&gt; val m = ru.runtimeMirror(p.getClass.getClassLoader)
m: scala.reflect.runtime.universe.Mirror = JavaMirror with ...
</code></pre></div></div>

<p>As we did in the previous example, we’ll begin by obtaining a mirror <code class="highlighter-rouge">m</code>,
which makes all classes and types available that are loaded by the classloader
that also loaded the class of <code class="highlighter-rouge">p</code> (<code class="highlighter-rouge">Purchase</code>), which we need in order to
access member <code class="highlighter-rouge">shipped</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val shippingTermSymb = ru.typeOf[Purchase].decl(ru.TermName("shipped")).asTerm
shippingTermSymb: scala.reflect.runtime.universe.TermSymbol = method shipped
</code></pre></div></div>

<p>We now look up the declaration of the <code class="highlighter-rouge">shipped</code> field, which gives us a
<code class="highlighter-rouge">TermSymbol</code> (a type of <code class="highlighter-rouge">Symbol</code>). We’ll need to use this <code class="highlighter-rouge">Symbol</code> later to
obtain a mirror that gives us access to the value of this field (for some
instance).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val im = m.reflect(p)
im: scala.reflect.runtime.universe.InstanceMirror = instance mirror for Purchase(Jeff Lebowski,23819,false)

scala&gt; val shippingFieldMirror = im.reflectField(shippingTermSymb)
shippingFieldMirror: scala.reflect.runtime.universe.FieldMirror = field mirror for Purchase.shipped (bound to Purchase(Jeff Lebowski,23819,false))
</code></pre></div></div>

<p>In order to access a specific instance’s <code class="highlighter-rouge">shipped</code> member, we need a mirror
for our specific instance, <code class="highlighter-rouge">p</code>’s instance mirror, <code class="highlighter-rouge">im</code>. Given our instance
mirror, we can obtain a <code class="highlighter-rouge">FieldMirror</code> for any <code class="highlighter-rouge">TermSymbol</code> representing a
field of <code class="highlighter-rouge">p</code>’s type.</p>

<p>Now that we have a <code class="highlighter-rouge">FieldMirror</code> for our specific field, we can use methods
<code class="highlighter-rouge">get</code> and <code class="highlighter-rouge">set</code> to get/set our specific instance’s <code class="highlighter-rouge">shipped</code> member. Let’s
change the status of <code class="highlighter-rouge">shipped</code> to <code class="highlighter-rouge">true</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; shippingFieldMirror.get
res7: Any = false

scala&gt; shippingFieldMirror.set(true)

scala&gt; shippingFieldMirror.get
res9: Any = true
</code></pre></div></div>

<h3 id="runtime-classes-in-java-vs-runtime-types-in-scala">Runtime Classes in Java vs. Runtime Types in Scala</h3>

<p>Those who are comfortable using Java reflection to obtain Java <em>Class</em>
instances at runtime might have noticed that, in Scala, we instead obtain
runtime <em>types</em>.</p>

<p>The REPL-run below shows a very simple scenario where using Java reflection on
Scala classes might return surprising or incorrect results.</p>

<p>First, we define a base class <code class="highlighter-rouge">E</code> with an abstract type member <code class="highlighter-rouge">T</code>, and from
it, we derive two subclasses, <code class="highlighter-rouge">C</code> and <code class="highlighter-rouge">D</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; class E {
     |   type T
     |   val x: Option[T] = None
     | }
defined class E

scala&gt; class C extends E
defined class C

scala&gt; class D extends C
defined class D
</code></pre></div></div>

<p>Then, we create an instance of both <code class="highlighter-rouge">C</code> and <code class="highlighter-rouge">D</code>, meanwhile making type member
<code class="highlighter-rouge">T</code> concrete (in both cases, <code class="highlighter-rouge">String</code>)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val c = new C { type T = String }
c: C{type T = String} = $anon$1@7113bc51

scala&gt; val d = new D { type T = String }
d: D{type T = String} = $anon$1@46364879
</code></pre></div></div>

<p>Now, we use methods <code class="highlighter-rouge">getClass</code> and <code class="highlighter-rouge">isAssignableFrom</code> from Java Reflection to
obtain an instance of <code class="highlighter-rouge">java.lang.Class</code> representing the runtime classes of
<code class="highlighter-rouge">c</code> and <code class="highlighter-rouge">d</code>, and then we test to see that <code class="highlighter-rouge">d</code>’s runtime class is a subclass of
<code class="highlighter-rouge">c</code>’s runtime representation.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; c.getClass.isAssignableFrom(d.getClass)
res6: Boolean = false
</code></pre></div></div>

<p>Since above, we saw that <code class="highlighter-rouge">D</code> extends <code class="highlighter-rouge">C</code>, this result is a bit surprising. In
performing this simple runtime type check, one would expect the result of the
question “is the class of <code class="highlighter-rouge">d</code> a subclass of the class of <code class="highlighter-rouge">c</code>?” to be <code class="highlighter-rouge">true</code>.
However, as you might’ve noticed above, when <code class="highlighter-rouge">c</code> and <code class="highlighter-rouge">d</code> are instantiated, the
Scala compiler actually creates anonymous subclasses of <code class="highlighter-rouge">C</code> and <code class="highlighter-rouge">D</code>,
respectively. This is due to the fact that the Scala compiler must translate
Scala-specific (<em>i.e.,</em> non-Java) language features into some equivalent in
Java bytecode in order to be able to run on the JVM. Thus, the Scala compiler
often creates synthetic classes (i.e. automatically-generated classes) that
are used at runtime in place of user-defined classes. This is quite
commonplace in Scala and can be observed when using Java reflection with a
number of Scala features, <em>e.g.</em> closures, type members, type refinements,
local classes, <em>etc</em>.</p>

<p>In situations like these, we can instead use Scala reflection to obtain
precise runtime <em>types</em> of these Scala objects. Scala runtime types carry
along all type info from compile-time, avoiding these types mismatches between
compile-time and run-time.</p>

<p>Below, we use define a method which uses Scala reflection to get the runtime
types of its arguments, and then checks the subtyping relationship between the
two. If its first argument’s type is a subtype of its second argument’s type,
it returns <code class="highlighter-rouge">true</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; import scala.reflect.runtime.{universe =&gt; ru}
import scala.reflect.runtime.{universe=&gt;ru}

scala&gt; def m[T: ru.TypeTag, S: ru.TypeTag](x: T, y: S): Boolean = {
    |   val leftTag = ru.typeTag[T]
    |   val rightTag = ru.typeTag[S]
    |   leftTag.tpe &lt;:&lt; rightTag.tpe
    | }
m: [T, S](x: T, y: S)(implicit evidence$1: scala.reflect.runtime.universe.TypeTag[T], implicit evidence$2: scala.reflect.runtime.universe.TypeTag[S])Boolean

scala&gt; m(d, c)
res9: Boolean = true
</code></pre></div></div>

<p>As we can see, we now get the expected result– <code class="highlighter-rouge">d</code>’s runtime type is indeed a
subtype of <code class="highlighter-rouge">c</code>’s runtime type.</p>

<h2 id="compile-time-reflection">Compile-time Reflection</h2>

<p>Scala reflection enables a form of <em>metaprogramming</em> which makes it possible
for programs to modify <em>themselves</em> at compile time. This compile-time
reflection is realized in the form of macros, which provide the ability to
execute methods that manipulate abstract syntax trees at compile-time.</p>

<p>A particularly interesting aspect of macros is that they are based on the same
API used also for Scala’s runtime reflection, provided in package
<code class="highlighter-rouge">scala.reflect.api</code>. This enables the sharing of generic code between macros
and implementations that utilize runtime reflection.</p>

<p>Note that
<a href="/overviews/macros/overview.html">the macros guide</a>
focuses on macro specifics, whereas this guide focuses on the general aspects
of the reflection API. Many concepts directly apply to macros, though, such
as abstract syntax trees which are discussed in greater detail in the section on
<a href="/overviews/reflection/symbols-trees-types.html">Symbols, Trees, and Types</a>.</p>

<h2 id="environment">Environment</h2>

<p>All reflection tasks require a proper environment to be set up. This
environment differs based on whether the reflective task is to be done at run
time or at compile time. The distinction between an environment to be used at
run time or compile time is encapsulated in a so-called <em>universe</em>. Another
important aspect of the reflective environment is the set of entities that we
have reflective access to. This set of entities is determined by a so-called
<em>mirror</em>.</p>

<p>Mirrors not only determine the set of entities that can be accessed
reflectively. They also provide reflective operations to be performed on those
entities. For example, in runtime reflection an <em>invoker mirror</em> can be used
to invoke a method or constructor of a class.</p>

<h3 id="universes">Universes</h3>

<p><code class="highlighter-rouge">Universe</code> is the entry point to Scala reflection.
A universe provides an interface to all the principal concepts used in
reflection, such as <code class="highlighter-rouge">Types</code>, <code class="highlighter-rouge">Trees</code>, and <code class="highlighter-rouge">Annotations</code>. For more details, see
the section of this guide on
<a href="/overviews/reflection/environment-universes-mirrors.html">Universes</a>,
or the
<a href="http://www.scala-lang.org/api/current/scala-reflect/scala/reflect/api/Universe.html">Universes API docs</a>
in package <code class="highlighter-rouge">scala.reflect.api</code>.</p>

<p>To use most aspects of Scala reflection, including most code examples provided
in this guide, you need to make sure you import a <code class="highlighter-rouge">Universe</code> or the members
of a <code class="highlighter-rouge">Universe</code>. Typically, to use runtime reflection, one can import all
members of <code class="highlighter-rouge">scala.reflect.runtime.universe</code>, using a wildcard import:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.reflect.runtime.universe._
</code></pre></div></div>

<h3 id="mirrors">Mirrors</h3>

<p><code class="highlighter-rouge">Mirror</code>s are a central part of Scala Reflection. All information provided by
reflection is made accessible through these so-called mirrors. Depending on
the type of information to be obtained, or the reflective action to be taken,
different flavors of mirrors must be used.</p>

<p>For more details, see the section of this guide on
<a href="/overviews/reflection/environment-universes-mirrors.html">Mirrors</a>,
or the
<a href="http://www.scala-lang.org/api/current/scala-reflect/scala/reflect/api/Mirrors.html">Mirrors API docs</a>
in package <code class="highlighter-rouge">scala.reflect.api</code>.</p>

				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
		<div class="inner-toc" id="sidebar-toc">

      <ul>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/overview.html">Overview</a></li>
            
            <div id="toc"></div>
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/environment-universes-mirrors.html">Environment, Universes, and Mirrors</a></li>
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/symbols-trees-types.html">Symbols, Trees, and Types</a></li>
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/annotations-names-scopes.html">Annotations, Names, Scopes, and More</a></li>
            
            
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/typetags-manifests.html">TypeTags and Manifests</a></li>
            
            
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/thread-safety.html">Thread Safety</a></li>
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
             <!-- this must be English, so get the other documents' titles -->
            <li><a href="/overviews/reflection/changelog211.html">Changes in Scala 2.11</a></li>
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>

      
        <ul id="available-languages" style="display: none;">
          <li><a href="/overviews/reflection/overview.html">English</a></li>
          
            
            
      			
      			<li><a href="/ja/overviews/reflection/overview.html" class="lang">日本語</a></li>
          
        </ul>
      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/master/_overviews/reflection/overview.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.12/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="/resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="/scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="/resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>

<!-- moment js -->
<script src="/resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="/resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="/resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="/resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="/resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="/resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="/resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="/resources/js/vendor/jquery.sticky.js" type="text/javascript"></script>
<script src="/resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="/resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom javascript -->
<script src="/resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'fbc439670f5d4e3730cdcb715c359391',
indexName: 'scala-lang',
inputSelector: '#doc-search-bar',
algoliaOptions: { 'facetFilters': ["language:en"] },
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>

</html>

