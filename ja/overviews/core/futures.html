<!DOCTYPE html>
<html>
  <head>
    <title>Future „Å® Promise | Scala Documentation</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" href="/docs.scala-lang.org/resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="/docs.scala-lang.org/resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/docs.scala-lang.org/resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/docs.scala-lang.org/resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/docs.scala-lang.org/resources/favicon-16x16.png">
    <link rel="manifest" href="/docs.scala-lang.org/resources/site.webmanifest">
    <link rel="mask-icon" href="/docs.scala-lang.org/resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="/docs.scala-lang.org/resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="/docs.scala-lang.org/resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/docs.scala-lang.org/resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang.org/resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang.org/resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>


<div class="navigation-fade-screen"></div>

<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="/docs.scala-lang.org/resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang.org/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>
<header id="doc-header">
  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      <a href="/docs.scala-lang.org/" class="navigation-bdand">
        <img src="/docs.scala-lang.org/resources/img/documentation-logo@2x.png" alt="">
      </a>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang.org/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang.org/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/books.html">Books</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang.org/tutorials/FAQ/index.html">Scala FAQs</a>
                  </li>
                
                  <li>
                    <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang.org/style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang.org/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang.org/glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang.org/sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang.org/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang.org/overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/books.html">Books</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang.org/tutorials/FAQ/index.html">Scala FAQs</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="/docs.scala-lang.org/style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="/docs.scala-lang.org/cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="/docs.scala-lang.org/glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="/docs.scala-lang.org/sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">

  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        <div class="titles">
          
            <div class="supertitle">Futures</div>
          
          <h1>Future „Å® Promise</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p><strong>Philipp Haller, Aleksandar Prokopec, Heather Miller, Viktor Klang, Roland Kuhn, Vojin Jovanovic Ëëó</strong><br />
<strong>Eugene Yokota Ë®≥</strong></p>

<h2 id="Ê¶ÇË¶Å">Ê¶ÇË¶Å</h2>

<p><strong>Future</strong> „ÅØ‰∏¶Âàó„Å´ÂÆüË°å„Åï„Çå„ÇãË§áÊï∞„ÅÆÊºîÁÆó„ÇíÂèñ„ÇäÊâ±„ÅÜ„ÅÆ„Å´‰æøÂà©„Å™ÊñπÊ≥ï„ÇíÊèê‰æõ„Åô„Çã„ÄÇ„Åù„Çå„ÅØÂäπÁéáÁöÑ„Åß„Éé„É≥„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„Å™ÊñπÊ≥ï„Å†„ÄÇ
Â§ß„Åæ„Åã„Å™ËÄÉ„ÅàÊñπ„ÅØ„Ç∑„É≥„Éó„É´„Å™„ÇÇ„ÅÆ„Åß„ÄÅ<code class="highlighter-rouge">Future</code> „ÅØ„Åæ„Å†Â≠òÂú®„Åó„Å™„ÅÑË®àÁÆóÁµêÊûú„Å´ÂØæ„Åô„Çã„Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÅÆ„Çà„ÅÜ„Å™„ÇÇ„ÅÆ„Å†„ÄÇ
‰∏ÄËà¨ÁöÑ„Å´„ÄÅ<code class="highlighter-rouge">Future</code> „ÅÆÁµêÊûú„ÅØ‰∏¶Ë°å„Å´Ë®àÁÆó„Åï„ÇåÂæå„ÅßÈõÜË®à„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
„Åì„ÅÆ„Çà„ÅÜ„Å´‰∏¶Ë°å„Å™„Çø„Çπ„ÇØ„ÇíÂêàÊàê„Åô„Çã„Åì„Å®„Åß„ÄÅ„Çà„ÇäÈÄü„Åè„ÄÅÈùûÂêåÊúü„Åß„ÄÅ„Éé„É≥„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„Å™‰∏¶Âàó„Ç≥„Éº„Éâ„Å®„Å™„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„ÄÇ</p>

<p>„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ„ÄÅFuture „ÇÇ Promise „ÇÇ„Éé„É≥„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„Åß„ÅÇ„Çä„ÄÅÂÖ∏ÂûãÁöÑ„Å™„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞ÊºîÁÆó„ÅÆ‰ª£„Çè„Çä„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰Ωø„ÅÜ„ÄÇ
„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅÆ‰ΩøÁî®„ÇíÊ¶ÇÂøµÁöÑ„Å´„ÇÇÊßãÊñáÁöÑ„Å´„ÇÇÂçòÁ¥îÂåñ„Åô„Çã„Åü„ÇÅ„Å´„ÄÅScala „ÅØ Future „Çí„Éé„É≥„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„Å´ÂêàÊàê„Åô„Çã <code class="highlighter-rouge">flatMap</code>„ÄÅ<code class="highlighter-rouge">foreach</code>„ÄÅ<code class="highlighter-rouge">filter</code> „Å®„ÅÑ„Å£„Åü„Ç≥„É≥„Éì„Éç„Éº„Çø„ÇíÊèê‰æõ„Åô„Çã„ÄÇ
„Éñ„É≠„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅØÂèØËÉΩ„Åß„ÄÅ(Êé®Â•®„Åï„Çå„Å™„ÅÑ„Åå) Áµ∂ÂØæ„Å´ÂøÖË¶Å„Å†„Å®„ÅÑ„ÅÜÂ†¥Èù¢„Å´„Åä„ÅÑ„Å¶„ÅØ Future „Çí„Éñ„É≠„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ</p>

<!--
The futures and promises API builds upon the notion of an
`ExecutionContext`, an execution environment designed to manage
resources such as thread pools between parallel frameworks and
libraries (detailed in an accompanying SIP, forthcoming). Futures and
promises are created through such `ExecutionContext`s. For example, this makes it possible,
in the case of an application which requires blocking futures, for an underlying execution
environment to resize itself if necessary to guarantee progress.
-->

<h2 id="future">Future</h2>

<p><code class="highlighter-rouge">Future</code> „ÅØ„ÄÅ„ÅÇ„ÇãÊôÇÁÇπ„Å´„Åä„ÅÑ„Å¶Âà©Áî®ÂèØËÉΩ„Å®„Å™„ÇãÂèØËÉΩÊÄß„ÅÆ„ÅÇ„ÇãÂÄ§„Çí‰øùÊåÅ„Åô„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å†„ÄÇ
„Åì„ÅÆÂÄ§„ÅØ„ÄÅ„Å™„Çì„Çâ„Åã„ÅÆË®àÁÆóÁµêÊûú„Åß„ÅÇ„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„ÄÇ
„Åù„ÅÆË®àÁÆó„Åå‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">Future</code> „ÅØË®àÁÆó„Åå‰æãÂ§ñ„ÇíÊäï„Åí„ÇãÂ†¥Âêà„ÇíÊÉ≥ÂÆö„Åó„Å¶‰æãÂ§ñ„Çí‰øùÊåÅ„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ
„ÅÇ„Çã <code class="highlighter-rouge">Future</code> „ÅåÂÄ§„ÇÇ„Åó„Åè„ÅØ‰æãÂ§ñ„ÇíÊåÅ„Å§„Å®„Åç„ÄÅ<code class="highlighter-rouge">Future</code> „ÅØ<strong>ÂÆå‰∫Ü</strong>„Åó„Åü„Å®„ÅÑ„ÅÜ„ÄÇ
<code class="highlighter-rouge">Future</code> „ÅåÂÄ§„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åó„ÅüÂ†¥Âêà„ÄÅ<code class="highlighter-rouge">Future</code> „ÅØ„Åù„ÅÆÂÄ§„Å®„Å®„ÇÇ„Å´<strong>ÊàêÂäü</strong>„Åó„Åü„Å®„ÅÑ„ÅÜ„ÄÇ
<code class="highlighter-rouge">Future</code> „Åå‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åó„ÅüÂ†¥Âêà„ÄÅ<code class="highlighter-rouge">Future</code> „ÅØ„Åù„ÅÆ‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´<strong>Â§±Êïó</strong>„Åó„Åü„Å®„ÅÑ„ÅÜ„ÄÇ</p>

<p><code class="highlighter-rouge">Future</code> „Å´„ÅØ 1Âõû„Å†„Åë‰ª£ÂÖ•„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Å®„ÅÑ„ÅÜÈáçË¶Å„Å™ÁâπÊÄß„Åå„ÅÇ„Çã„ÄÇ
‰∏ÄÂ∫¶ Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåÂÄ§„ÇÇ„Åó„Åè„ÅØ‰æãÂ§ñ„ÇíÊåÅ„Å§„Å®„ÄÅÂÆüË≥™‰∏çÂ§â„Å®„Å™„Çä„ÄÅ„Åù„Çå„Åå‰∏äÊõ∏„Åç„Åï„Çå„Çã„Åì„Å®„ÅØÁµ∂ÂØæ„Å´ÁÑ°„ÅÑ„ÄÇ</p>

<p>Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„ÇãÊúÄ„ÇÇÁ∞°Âçò„Å™ÊñπÊ≥ï„ÅØ„ÄÅÈùûÂêåÊúü„ÅÆË®àÁÆó„ÇíÂßã„ÇÅ„Å¶„Åù„ÅÆÁµêÊûú„ÇíÊåÅ„Å§ <code class="highlighter-rouge">Future</code> „ÇíËøî„Åô
<code class="highlighter-rouge">future</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÂëº„Å≥Âá∫„Åô„Åì„Å®„Å†„ÄÇ
Ë®àÁÆóÁµêÊûú„ÅØ <code class="highlighter-rouge">Future</code> „ÅåÂÆå‰∫Ü„Åô„Çã„Å®Âà©Áî®ÂèØËÉΩ„Å´„Å™„Çã„ÄÇ</p>

<p>„Åì„Åì„ÅßÊ≥®ÊÑè„Åó„Å¶Ê¨≤„Åó„ÅÑ„ÅÆ„ÅØ <code class="highlighter-rouge">Future[T]</code> „ÅØ Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂûã„Åß„ÅÇ„Çä„ÄÅ
<code class="highlighter-rouge">future</code> „ÅØ„Å™„Çì„Çâ„Åã„ÅÆÈùûÂêåÊúü„Å™Ë®àÁÆó„Çí‰ΩúÊàê„Åó„Çπ„Ç±„Ç∏„É•„Éº„É´„Åó„Å¶„ÄÅ„Åù„ÅÆË®àÁÆóÁµêÊûú„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã
Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíËøî„Åô„É°„ÇΩ„ÉÉ„Éâ„Å†„Å®„ÅÑ„ÅÜ„Åì„Å®„Å†„ÄÇ</p>

<p>ÂÖ∑‰Ωì‰æã„ÅßË™¨Êòé„Åó„Çà„ÅÜ„ÄÇ
„ÅÇ„Çã‰∫∫Ê∞ó„ÇΩ„Éº„Ç∑„É£„É´„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅÆ API „ÇíÊÉ≥ÂÆö„Åó„Å¶„ÄÅ‰∏é„Åà„Çâ„Çå„Åü„É¶„Éº„Ç∂„ÅÆÂèãÈÅî„ÅÆ„É™„Çπ„Éà„ÇíÂèñÂæó„Åß„Åç„Çã„ÇÇ„ÅÆ„Å®„Åô„Çã„ÄÇ
„Åæ„ÅöÊñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÈñã„ÅÑ„Å¶„ÄÅ„ÅÇ„ÇãÁâπÂÆö„ÅÆ„É¶„Éº„Ç∂„ÅÆÂèãÈÅî„É™„Çπ„Éà„ÇíÁî≥Ë´ã„Åô„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.concurrent._
import ExecutionContext.Implicits.global

val session = socialNetwork.createSessionFor("user", credentials)
val f: Future[List[Friend]] = Future {
  session.getFriends()
}
</code></pre></div></div>

<p>‰∏ä„ÅÆ‰æã„Åß„ÅØ„ÄÅ„Åæ„Åö <code class="highlighter-rouge">scala.concurrent</code> „Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆÂÜÖÂÆπ„Çí„Ç§„É≥„Éù„Éº„Éà„Åô„Çã„Åì„Å®„Åß
<code class="highlighter-rouge">Future</code> Âûã„Å® <code class="highlighter-rouge">future</code> „ÅåË¶ã„Åà„Çã„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Çã„ÄÇ
2„Å§ÁõÆ„ÅÆ„Ç§„É≥„Éù„Éº„Éà„ÅØËøΩ„Å£„Å¶Ë™¨Êòé„Åô„Çã„ÄÇ</p>

<p>Ê¨°„Å´„ÄÅ‰ªÆÊÉ≥„ÅÆ <code class="highlighter-rouge">createSessionFor</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÂëº„Çì„Åß„Çµ„Éº„Éê„Å´„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ„Çã„Çª„ÉÉ„Ç∑„Éß„É≥Â§âÊï∞„ÇíÂàùÊúüÂåñ„Åó„Å¶„ÅÑ„Çã„ÄÇ</p>

<p>„É¶„Éº„Ç∂„ÅÆÂèãÈÅî„É™„Çπ„Éà„ÇíÂèñÂæó„Åô„Çã„Å´„ÅØ„ÄÅ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Åî„Åó„Å´„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„ÄÅ„Åù„Çå„ÅØÈï∑„ÅÑÊôÇÈñì„Åå„Åã„Åã„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„ÄÇ
„Åì„Çå„ÅØ <code class="highlighter-rouge">getFriends</code> „É°„ÇΩ„ÉÉ„Éâ„Åß‰æãÁ§∫„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ
ÂøúÁ≠î„ÅåËøî„Å£„Å¶„Åè„Çã„Åæ„Åß„ÅÆÈñì„Å´ CPU „ÇíÊúâÂäπ„Å´‰Ωø„ÅÜ„Å´„ÅØ„ÄÅ„Éó„É≠„Ç∞„É©„É†„ÅÆÊÆã„Çä„Çí„Éñ„É≠„ÉÉ„ÇØ„Åô„Çã„Åπ„Åç„Åß„ÅØ„Å™„ÅÑ„ÄÇ
„Å§„Åæ„Çä„ÄÅ„Åì„ÅÆË®àÁÆó„ÅØÈùûÂêåÊúü„Å´„Çπ„Ç±„Ç∏„É•„Éº„É´„Åï„Çå„Çã„Åπ„Åç„Å†„ÄÇ
„Åì„Åì„Åß‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã <code class="highlighter-rouge">future</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØ„Åæ„Åï„Å´„Åù„Çå„ÇíË°å„ÅÑ„ÄÅ‰∏é„Åà„Çå„Åü„Éñ„É≠„ÉÉ„ÇØ„Çí‰∏¶Ë°å„Å´ÂÆüË°å„Åô„Çã„ÄÇ
„Åì„ÅÆÂ†¥Âêà„ÅØ„ÄÅ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°„ÅóÂøúÁ≠î„ÇíÂæÖ„Å°Á∂ö„Åë„Çã„ÄÇ</p>

<p>„Çµ„Éº„Éê„ÅåÂøúÁ≠î„Åô„Çã„Å® Future <code class="highlighter-rouge">f</code> ÂÜÖ„Å´„Åä„ÅÑ„Å¶ÂèãÈÅî„É™„Çπ„Éà„ÅåÂà©Áî®ÂèØËÉΩ„Å®„Å™„Çã„ÄÇ</p>

<p>Ë©¶„Åø„ÅåÂ§±Êïó„Åô„Çã„Å®„ÄÅ‰æãÂ§ñ„ÅåÁô∫Áîü„Åô„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ
‰ª•‰∏ã„ÅÆ‰æã„Åß„ÅØ„ÄÅ<code class="highlighter-rouge">session</code> Â§âÊï∞„ÅÆÂàùÊúüÂåñ„Åå‰∏çÊ≠£„Å™„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">future</code> „Éñ„É≠„ÉÉ„ÇØÂÜÖ„ÅÆË®àÁÆó„Åå
<code class="highlighter-rouge">NullPointerException</code> „ÇíÊäï„Åí„Çã„ÄÇ„Åì„ÅÆ Future <code class="highlighter-rouge">f</code> „ÅØ„ÄÅ„Åì„ÅÆ‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val session = null
val f: Future[List[Friend]] = Future {
  session.getFriends
}
</code></pre></div></div>

<p>‰∏ä„ÅÆ <code class="highlighter-rouge">import ExecutionContext.Implicits.global</code>
„Å®„ÅÑ„ÅÜ‰∏ÄÊñá„ÅØ„Éá„Éï„Ç©„É´„Éà„ÅÆ„Ç∞„É≠„Éº„Éê„É´„Å™ÂÆüË°å„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà (execution context) „Çí„Ç§„É≥„Éù„Éº„Éà„Åô„Çã„ÄÇ
ÂÆüË°å„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÅØÊ∏°„Åï„Çå„Åü„Çø„Çπ„ÇØ„ÇíÂÆüË°å„Åó„ÄÅ„Çπ„É¨„ÉÉ„Éâ„Éó„Éº„É´„ÅÆ„Çà„ÅÜ„Å™„ÇÇ„ÅÆ„Å†„Å®ËÄÉ„Åà„Å¶„ÅÑ„ÅÑ„ÄÇ
„Åì„Çå„Çâ„ÅØ„ÄÅÈùûÂêåÊúüË®àÁÆó„Åå„ÅÑ„Å§„Å©„ÅÆ„Çà„ÅÜ„Å´ÂÆüË°å„Åï„Çå„Çã„Åã„ÇíÂèñ„ÇäÊâ±„ÅÜ„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">future</code> „É°„ÇΩ„ÉÉ„Éâ„Å´Ê¨†„Åã„Åõ„Å™„ÅÑ„ÇÇ„ÅÆ„Å†„ÄÇ
Áã¨Ëá™„ÅÆÂÆüË°å„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÆöÁæ©„Åó„Å¶ <code class="highlighter-rouge">future</code>
„Å®„Å®„ÇÇ„Å´‰Ωø„ÅÜ„Åì„Å®„Åå„Åß„Åç„Çã„Åå„ÄÅ‰ªä„ÅÆ„Å®„Åì„Çç„ÅØ‰∏äË®ò„ÅÆ„Çà„ÅÜ„Å´„Éá„Éï„Ç©„É´„Éà„ÅÆÂÆüË°å„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„Çí„Ç§„É≥„Éù„Éº„Éà„Åß„Åç„Çã„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅåÂàÜ„Åã„Çå„Å∞ÂçÅÂàÜ„Å†„ÄÇ</p>

<p>„Åì„ÅÆ‰æã„Åß„ÅØ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Åî„Åó„Å´„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°„Åó„Å¶ÂøúÁ≠î„ÇíÂæÖ„Å§„Å®„ÅÑ„ÅÜ‰ªÆÊÉ≥„ÅÆ„ÇΩ„Éº„Ç∑„É£„É´„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ API „ÇíËÄÉ„Åà„Å¶„Åø„Åü„ÄÇ
„Åô„Åê„Å´Ë©¶„Åó„Å¶„Åø„Çã„Åì„Å®„Åå„Åß„Åç„ÇãÈùûÂêåÊúü„ÅÆË®àÁÆó„ÅÆ‰æã„ÇÇËÄÉ„Åà„Å¶„Åø„Çà„ÅÜ„ÄÇ
„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„Åå„ÅÇ„Å£„Åü„Å®„Åó„Å¶„ÄÅ„Åù„ÅÆ‰∏≠„Åß„ÅÇ„ÇãÁâπÂÆö„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„ÅåÊúÄÂàù„Å´Âá∫„Å¶„Åç„Åü‰ΩçÁΩÆ„ÇíÁü•„Çä„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
„Åì„ÅÆË®àÁÆó„ÅØ„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπ„Çí„Éá„Ç£„Çπ„ÇØ„Åã„ÇâË™≠„ÅøËæº„ÇÄ„ÅÆ„Å´„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„Åü„ÇÅ„ÄÅ‰ªñ„ÅÆË®àÁÆó„Å®‰∏¶Ë°åÂÆüË°å„Åô„Çã„ÅÆ„ÅØÁêÜ„Å´„Åã„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val firstOccurence: Future[Int] = Future {
  val source = scala.io.Source.fromFile("myText.txt")
  source.toSeq.indexOfSlice("myKeyword")
}
</code></pre></div></div>

<h3 id="„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ">„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ</h3>

<p>„Åì„Çå„ÅßÈùûÂêåÊúü„Å™Ë®àÁÆó„ÇíÂßã„ÇÅ„Å¶Êñ∞„Åó„ÅÑ Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„ÇãÊñπÊ≥ï„ÅØÂàÜ„Åã„Å£„Åü„Åë„Å©„ÇÇ„ÄÅË®àÁÆóÁµêÊûú„ÅåÂà©Áî®ÂèØËÉΩ„Å®„Å™„Å£„Åü„Å®„Åç„Å´„Åù„Çå„Çí‰Ωø„Å£„Å¶‰Ωï„Åã„Çí„Åô„ÇãÊñπÊ≥ï„Çí„Åæ„Å†„Åø„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ
Â§ö„Åè„ÅÆÂ†¥Âêà„ÄÅË®àÁÆó„ÅÆÂâØ‰ΩúÁî®„Å†„Åë„Åò„ÇÉ„Å™„Åè„Å¶„ÄÅ„Åù„ÅÆÁµêÊûú„Å´ËààÂë≥„Åå„ÅÇ„Çã„ÄÇ</p>

<p>Future „ÅÆÂÆüË£Ö„ÅÆÂ§ö„Åè„ÅØ„ÄÅFuture „ÅÆÁµêÊûú„ÇíÁü•„Çä„Åü„Åè„Å™„Å£„Åü„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØ Future „ÅåÂÆå‰∫Ü„Åô„Çã„Åæ„ÅßËá™ÂàÜ„ÅÆË®àÁÆó„Çí„Éñ„É≠„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÇíÂº∑Ë¶Å„Åô„Çã„ÄÇ„Åù„ÅÜ„Åó„Å¶„ÇÑ„Å£„Å® Future „ÅÆË®àÁÆóÁµêÊûú„ÇíÂæó„Çâ„Çå„ÅüÂæå„Å´Ëá™ÂàÜ„ÅÆË®àÁÆó„ÇíÁ∂öË°å„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ
Âæå„Åß„Åø„Çã„Çà„ÅÜ„Å´„ÄÅ„Åì„ÅÆÊñπÂºè„ÇÇ Scala „ÅÆ Future API „ÅßÂèØËÉΩ„Å®„Å™„Å£„Å¶„ÅÑ„Çã„Åå„ÄÅÊÄßËÉΩ„Å®„ÅÑ„ÅÜË¶≥ÁÇπ„Åã„ÇâË¶ã„Çã„Å® Future
„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„Çã„Åì„Å®„ÅßÂÆåÂÖ®„Å´„Éé„É≥„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞„ÅßË°å„ÅÜÊñπ„ÅåÂ•Ω„Åæ„Åó„ÅÑ„Å®Ë®Ä„Åà„Çã„ÄÇ
„Åì„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ Future „ÅåÂÆå‰∫Ü„Åô„Çã„Å®ÈùûÂêåÊúü„Å´Âëº„Å≥Âá∫„Åï„Çå„Çã„ÄÇ
„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅÆÁôªÈå≤ÊôÇ„Å´ Future „ÅåÊó¢„Å´ÂÆå‰∫Ü„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÈùûÂêåÊúü„Å´ÂÆüË°å„Åï„Çå„Çã„Åã„ÄÅ„ÇÇ„Åó„Åè„ÅØÂêå„Åò„Çπ„É¨„ÉÉ„Éâ„ÅßÈÄêÊ¨°ÁöÑ„Å´ÂÆüË°å„Åï„Çå„Çã„ÄÇ</p>

<p>„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„ÇãÊúÄ„ÇÇÊ±éÁî®ÁöÑ„Å™ÊñπÊ≥ï„ÅØ„ÄÅ<code class="highlighter-rouge">Try[T] =&gt; U</code> Âûã„ÅÆÈñ¢Êï∞„ÇíÂèó„ÅëÂèñ„Çã <code class="highlighter-rouge">onComplete</code> „É°„ÇΩ„ÉÉ„Éâ„Çí‰Ωø„ÅÜ„Åì„Å®„Å†„ÄÇ
„Åì„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ„ÄÅFuture „ÅåÊàêÂäü„Åô„Çå„Å∞ <code class="highlighter-rouge">Success[T]</code> Âûã„ÅÆÂÄ§„Å´ÈÅ©Áî®„Åï„Çå„ÄÅÂ§±Êïó„Åô„Çå„Å∞ <code class="highlighter-rouge">Failure[T]</code> Âûã„ÅÆÂÄ§„Å´ÈÅ©Áî®„Åï„Çå„Çã„ÄÇ</p>

<p>„Åì„ÅÆ <code class="highlighter-rouge">Try[T]</code> „ÅØ„ÄÅ„Åù„Çå„Åå‰Ωï„Çâ„ÅãÂûã„ÅÆÂÄ§„ÇíÊΩúÂú®ÁöÑ„Å´‰øùÊåÅ„Åô„Çã„É¢„Éä„Éâ„Å†„Å®„ÅÑ„ÅÜÊÑèÂë≥„Å´„Åä„ÅÑ„Å¶
<code class="highlighter-rouge">Option[T]</code> „ÇÑ <code class="highlighter-rouge">Either[T, S]</code> „Å´‰ºº„Å¶„ÅÑ„Çã„ÄÇ
„Åó„Åã„Åó„ÄÅ„Åì„Çå„ÅØÂÄ§„Åã Throwable „Å™„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰øùÊåÅ„Åô„Çã„Åì„Å®„Å´ÁâπÂåñ„Åó„Å¶Ë®≠Ë®à„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ
<code class="highlighter-rouge">Option[T]</code> „ÅåÂÄ§ („Å§„Åæ„Çä <code class="highlighter-rouge">Some[T]</code>) „ÇíÊåÅ„Å§„Åã„ÄÅ‰Ωï„ÇÇÊåÅ„Åü„Å™„ÅÑ („Å§„Åæ„Çä <code class="highlighter-rouge">None</code>)
„ÅÆ„Å´ÂØæ„Åó„Å¶„ÄÅ<code class="highlighter-rouge">Try[T]</code> „ÅØÂÄ§„ÇíÊåÅ„Å§Â†¥Âêà„ÅØ <code class="highlighter-rouge">Success[T]</code> „Åß„ÄÅ„Åù„Çå‰ª•Â§ñ„ÅÆÂ†¥Âêà„ÅØ <code class="highlighter-rouge">Failure[T]</code> „ÅßÂøÖ„Åö‰æãÂ§ñ„ÇíÊåÅ„Å§„ÄÇ
<code class="highlighter-rouge">Failure[T]</code> „ÅØ„ÄÅ‰ΩïÊïÖÂÄ§„ÅåÁÑ°„ÅÑ„ÅÆ„Åã„ÇíË™¨Êòé„Åß„Åç„Çã„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">None</code> „Çà„Çä„ÇÇÂ§ö„Åè„ÅÆÊÉÖÂ†±„ÇíÊåÅ„Å§„ÄÇ
ÂêåÊßò„Å´ <code class="highlighter-rouge">Try[T]</code> „Çí <code class="highlighter-rouge">Either[Throwable, T]</code>„ÄÅ„Å§„Åæ„ÇäÂ∑¶ÂÄ§„Çí <code class="highlighter-rouge">Throwable</code> „Å´Âõ∫ÂÆö„Åó„ÅüÁâπÊÆäÂΩ¢„Å†„Å®ËÄÉ„Åà„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ</p>

<p>„ÇΩ„Éº„Ç∑„É£„É´„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅÆ‰æã„Å´Êàª„Å£„Å¶„ÄÅÊúÄËøë„ÅÆËá™ÂàÜ„ÅÆÊäïÁ®ø„Åó„ÅüÊñá„ÅÆ„É™„Çπ„Éà„ÇíÂèñÂæó„Åó„Å¶ÁîªÈù¢„Å´Ë°®Á§∫„Åó„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
„Åì„Çå„ÅØ <code class="highlighter-rouge">List[String]</code> „ÇíËøî„Åô <code class="highlighter-rouge">getRecentPosts</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÂëº„Å∂„Åì„Å®„ÅßË°å„Çè„Çå„ÄÅÊàª„ÇäÂÄ§„Å´„ÅØÊúÄËøë„ÅÆÊñá„ÅÆ„É™„Çπ„Éà„ÅåÂÖ•„Å£„Å¶„ÅÑ„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f: Future[List[String]] = Future {
  session.getRecentPosts
}

f onComplete {
  case Success(posts) =&gt; for (post &lt;- posts) println(post)
  case Failure(t) =&gt; println("„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü: " + t.getMessage)
}
</code></pre></div></div>

<p><code class="highlighter-rouge">onComplete</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØ„ÄÅFuture Ë®àÁÆó„ÅÆÂ§±Êïó„Å®ÊàêÂäü„ÅÆ‰∏°Êñπ„ÅÆÁµêÊûú„ÇíÊâ±„Åà„Çã„Åü„ÇÅ„ÄÅÊ±éÁî®ÊÄß„ÅåÈ´ò„ÅÑ„ÄÇ
ÊàêÂäü„Åó„ÅüÁµêÊûú„ÅÆ„ÅøÊâ±„ÅÜÂ†¥Âêà„ÅØ„ÄÅ(ÈÉ®ÂàÜÈñ¢Êï∞„ÇíÂèó„ÅëÂèñ„Çã) <code class="highlighter-rouge">onSuccess</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰Ωø„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f: Future[List[String]] = Future {
  session.getRecentPosts
}

f onSuccess {
  case posts =&gt; for (post &lt;- posts) println(post)
}
</code></pre></div></div>

<p>Â§±Êïó„Åó„ÅüÁµêÊûú„ÅÆ„ÅøÊâ±„ÅÜÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">onFailure</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰Ωø„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f: Future[List[String]] = Future {
  session.getRecentPosts
}

f onFailure {
  case t =&gt; println("„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü: " + t.getMessage)
}

f onSuccess {
  case posts =&gt; for (post &lt;- posts) println(post)
}
</code></pre></div></div>

<p><code class="highlighter-rouge">onFalure</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ Future „ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÄÅ„Å§„Åæ„Çä„Åù„Çå„Åå‰æãÂ§ñ„Çí‰øùÊåÅ„Åô„ÇãÂ†¥Âêà„ÅÆ„ÅøÂÆüË°å„Åï„Çå„Çã„ÄÇ</p>

<p>ÈÉ®ÂàÜÈñ¢Êï∞„ÅØ <code class="highlighter-rouge">isDefinedAt</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÊåÅ„Å§„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">onFailure</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÁâπÂÆö„ÅÆ <code class="highlighter-rouge">Throwable</code> „Å´ÂØæ„Åó„Å¶ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆ„ÅøÁô∫ÁÅ´„Åï„Çå„Çã„ÄÇ
‰ª•‰∏ã„ÅÆ‰æã„Åß„ÅØ„ÄÅÁôªÈå≤„Åï„Çå„Åü <code class="highlighter-rouge">onFailure</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÁô∫ÁÅ´„Åï„Çå„Å™„ÅÑ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f = Future {
  2 / 0
}

f onFailure {
  case npe: NullPointerException =&gt;
    println("„Åì„Çå„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åó„Åü„Çâ„Éì„ÉÉ„ÇØ„É™„ÄÇ")
}
</code></pre></div></div>

<p>„Ç≠„Éº„ÉØ„Éº„Éâ„ÅÆÂàùÂá∫„ÅÆ‰ΩçÁΩÆ„ÇíÊ§úÁ¥¢„Åô„Çã‰æã„Å´Êàª„Çã„Å®„ÄÅ„Ç≠„Éº„ÉØ„Éº„Éâ„ÅÆ‰ΩçÁΩÆ„ÇíÁîªÈù¢„Å´Ë°®Á§∫„Åó„Åü„ÅÑ„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val firstOccurence: Future[Int] = Future {
  val source = scala.io.Source.fromFile("myText.txt")
  source.toSeq.indexOfSlice("myKeyword")
}

firstOccurence onSuccess {
  case idx =&gt; println("„Ç≠„Éº„ÉØ„Éº„Éâ„ÅÆÂàùÂá∫‰ΩçÁΩÆ: " + idx)
}

firstOccurence onFailure {
  case t =&gt; println("„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åü: " + t.getMessage)
}
</code></pre></div></div>

<p><code class="highlighter-rouge">onComplete</code>„ÄÅ<code class="highlighter-rouge">onSuccess</code>„ÄÅ„Åä„Çà„Å≥ <code class="highlighter-rouge">onFailure</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØÂÖ®„Å¶ <code class="highlighter-rouge">Unit</code> Âûã„ÇíËøî„Åô„Åü„ÇÅ„ÄÅ„Åì„Çå„Çâ„ÅÆÂëº„Å≥Âá∫„Åó„ÇíÈÄ£Èéñ„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Å™„ÅÑ„ÄÇ
„Åì„Çå„ÅØÊÑèÂõ≥ÁöÑ„Å™Ë®≠Ë®à„Åß„ÄÅÈÄ£Èéñ„Åï„Çå„ÅüÂëº„Å≥Âá∫„Åó„ÅåÁôªÈå≤„Åï„Çå„Åü„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅÆÂÆüË°å„ÅÆÈ†ÜÂ∫è„ÇíÊöóÁ§∫„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Çã
(Âêå„Åò Future „Å´ÁôªÈå≤„Åï„Çå„Åü„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÈ†Ü‰∏çÂêå„Å´Áô∫ÁÅ´„Åï„Çå„Çã)„ÄÇ</p>

<p>„Åì„Åì„Åß„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÂÆüÈöõ„ÅÆ„Å®„Åì„Çç<strong>„ÅÑ„Å§</strong>Âëº„Å∞„Çå„Çã„ÅÆ„Åã„Å´Èñ¢„Åó„Å¶Ë™¨Êòé„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ
Future ÂÜÖ„ÅÆÂÄ§„ÅåÂà©Áî®ÂèØËÉΩ„Å®„Å™„Çã„Åì„Å®„ÇíÂøÖË¶Å„Å®„Åô„Çã„Åü„ÇÅ„ÄÅFuture „ÅåÂÆå‰∫Ü„Åó„ÅüÂæå„Åß„ÅÆ„ÅøÂëº„Å≥Âá∫„Åï„Çå„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
„Åó„Åã„Åó„ÄÅFuture „ÇíÂÆå‰∫Ü„Åó„Åü„Çπ„É¨„ÉÉ„Éâ„Åã„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰ΩúÊàê„Åó„Åü„Çπ„É¨„ÉÉ„Éâ„ÅÆ„ÅÑ„Åö„Çå„Åã„Å´„Çà„ÇäÂëº„Å≥Âá∫„Åï„Çå„Çã„Å®„ÅÑ„ÅÜ‰øùË®º„ÅØÁÑ°„ÅÑ„ÄÇ
„Åã„Çè„Çä„Å´„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåÂÆå‰∫Ü„Åó„ÅüÂæå„ÅÆ„ÅÑ„Å§„Åã„Å´‰Ωï„Çâ„Åã„Çπ„É¨„ÉÉ„Éâ„Å´„Çà„ÇäÂÆüË°å„Åï„Çå„Çã„ÄÇ
„Åì„Çå„Çí„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÂÆüË°å„Åï„Çå„Çã„ÅÆ„ÅØ <strong>eventually</strong> „Å†„Å®„ÅÑ„ÅÜ„ÄÇ</p>

<p>„Åï„Çâ„Å´„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÂÆüË°å„Åï„Çå„ÇãÈ†ÜÂ∫è„ÅØ„ÄÅ„Åü„Å®„ÅàÂêå„Åò„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíË§áÊï∞ÂõûÂÆüË°å„Åó„ÅüÈñì„Å†„Åë„Åß„ÇÇÊ±∫ÂÆö„Åó„Å¶„Å™„ÅÑ„ÄÇ
ÂÆüÈöõ„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÈÄêÊ¨°ÁöÑ„Å´Âëº„Å≥Âá∫„Åï„Çå„Çã„Å®„ÅØÈôê„Çâ„Åö„ÄÅ‰∏ÄÂ∫¶„Å´‰∏¶Ë°åÂÆüË°å„Åï„Çå„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅ‰ª•‰∏ã„ÅÆ‰æã„Å´„Åä„Åë„ÇãÂ§âÊï∞ <code class="highlighter-rouge">totalA</code> „ÅØË®àÁÆó„Åï„Çå„Åü„ÉÜ„Ç≠„Çπ„ÉàÂÜÖ„ÅÆÊ≠£„Åó„ÅÑÂ∞èÊñáÂ≠ó„Å®Â§ßÊñáÂ≠ó„ÅÆ <code class="highlighter-rouge">a</code> „ÅÆÂêàË®àÊï∞„ÇíÊåÅ„Åü„Å™„ÅÑÂ†¥Âêà„Åå„ÅÇ„Çã„ÄÇ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@volatile var totalA = 0

val text = Future {
  "na" * 16 + "BATMAN!!!"
}

text onSuccess {
  case txt =&gt; totalA += txt.count(_ == 'a')
}

text onSuccess {
  case txt =&gt; totalA += txt.count(_ == 'A')
}
</code></pre></div></div>

<p>2„Å§„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÈ†ÜÊ¨°„Å´ÂÆüË°å„Åï„Çå„ÅüÂ†¥Âêà„ÅØ„ÄÅÂ§âÊï∞ <code class="highlighter-rouge">totalA</code> „ÅØÊúüÂæÖ„Åï„Çå„ÇãÂÄ§ <code class="highlighter-rouge">18</code> „ÇíÊåÅ„Å§„ÄÇ
„Åó„Åã„Åó„ÄÅ„Åì„Çå„Çâ„ÅØ‰∏¶Ë°å„Åó„Å¶ÂÆüË°å„Åï„Çå„ÇãÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çã„Åü„ÇÅ„ÄÅ„Åù„ÅÆÂ†¥Âêà„ÅØ <code class="highlighter-rouge">totalA</code> „ÅØ
<code class="highlighter-rouge">+=</code> „Åå atomic „Å™ÊºîÁÆó„Åß„ÅØ„Å™„ÅÑ„Åü„ÇÅ„ÄÅ
(„Å§„Åæ„Çä„ÄÅË™≠„ÅøËæº„Åø„Å®Êõ∏„ÅçËæº„Åø„Å®„ÅÑ„ÅÜ„Çπ„ÉÜ„ÉÉ„Éó„Åã„ÇâÊßãÊàê„Åï„Çå„Å¶„Åä„Çä„ÄÅ„Åù„Çå„Åå‰ªñ„ÅÆË™≠„ÅøËæº„Åø„Å®Êõ∏„ÅçËæº„Åø„ÅÆÈñì„Å´Êåü„Åæ„Å£„Å¶ÂÆüË°å„Åï„Çå„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã)
<code class="highlighter-rouge">16</code> „Åæ„Åü„ÅØ <code class="highlighter-rouge">2</code> „Å®„ÅÑ„ÅÜÂÄ§„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çã„ÄÇ</p>

<p>‰∏áÂÖ®„ÇíÊúü„Åó„Å¶„ÄÅ‰ª•‰∏ã„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅÆÊÑèÂë≥Ë´ñ„ÇíÂàóÊåô„Åô„Çã:</p>

<!-- keep this html -->
<ol>
<li>Future „Å´ <code>onComplete</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„Çã„Åì„Å®„Åß„ÄÅÂØæÂøú„Åô„Çã„ÇØ„É≠„Éº„Ç∏„É£„Åå Future „ÅåÂÆå‰∫Ü„Åó„ÅüÂæå„Å´ eventually „Å´ÂÆüË°å„Åï„Çå„Çã„Åì„Å®„Åå‰øùË®º„Åï„Çå„Çã„ÄÇ</li>

<li><code>onSuccess</code> „ÇÑ <code>onFailure</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„Çã„Åì„Å®„ÅØ <code>onComplete</code> „Å®Âêå„ÅòÊÑèÂë≥Ë´ñ„ÇíÊåÅ„Å§„ÄÇ„Åü„Å†„Åó„ÄÅ„ÇØ„É≠„Éº„Ç∏„É£„Åå„Åù„Çå„Åû„ÇåÊàêÂäü„Åó„Åü„ÅãÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅÆ„Åø„Å´Âëº„Å∞„Çå„Çã„Å®„ÅÑ„ÅÜÈÅï„ÅÑ„Åå„ÅÇ„Çã„ÄÇ</li>

<li>Êó¢„Å´ÂÆå‰∫Ü„Åó„Åü Future „Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„Çã„Åì„Å®„ÅØ (1 „Å´„Çà„Çä) „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Åå eventually „Å´ÂÆüË°å„Åï„Çå„Çã„Åì„Å®„Å®„Å™„Çã„ÄÇ</li>

<li>Future „Å´Ë§áÊï∞„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåÁôªÈå≤„Åï„Çå„ÅüÂ†¥Âêà„ÅØ„ÄÅ„Åù„Çå„Çâ„ÅåÂÆüË°å„Åï„Çå„ÇãÈ†ÜÂ∫è„ÅØÂÆöÁæ©„Åï„Çå„Å™„ÅÑ„ÄÇ„Åù„Çå„Å©„Åì„Çç„Åã„ÄÅ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ‰∏¶Ë°å„Å´ÂÆüË°å„Åï„Çå„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„ÄÇ„Åó„Åã„Åó„ÄÅ<code>ExecutionContext</code> „ÅÆÂÆüË£Ö„Å´„Çà„Å£„Å¶„ÅØÊòéÁ¢∫„Å´ÂÆöÁæ©„Åï„Çå„ÅüÈ†ÜÂ∫è„Å®„Å™„ÇãÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çã„ÄÇ</li>

<li>‰æãÂ§ñ„ÇíÊäï„Åí„Çã„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Åå„ÅÇ„Å£„Åü„Å®„Åó„Å¶„ÇÇ„ÄÅ‰ªñ„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÂÆüË°å„Åï„Çå„Çã„ÄÇ</li>

<li>ÂÆå‰∫Ü„Åó„Å™„ÅÑ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Åå„ÅÇ„Å£„ÅüÂ†¥Âêà („Å§„Åæ„Çä„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Å´ÁÑ°Èôê„É´„Éº„Éó„Åå„ÅÇ„Å£„ÅüÂ†¥Âêà)‰ªñ„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØÂÆüË°å„Åï„Çå„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„ÄÇ„Åù„ÅÆ„Çà„ÅÜ„Å™Â†¥Âêà„ÅØ„Éñ„É≠„ÉÉ„ÇØ„Åô„ÇãÂèØËÉΩÊÄß„ÅÆ„ÅÇ„Çã„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅØ <code>blocking</code> ÊßãÊñá„Çí‰Ωø„ÅÜ„Åπ„Åç„Å† (‰ª•‰∏ãÂèÇÁÖß)„ÄÇ</li>

<li>„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅÆÂÆüË°åÂæå„ÅØ„Åù„Çå„ÅØ Future „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åã„ÇâÂâäÈô§„Åï„Çå„ÄÅGC ÂØæË±°„Å®„Å™„Çã„ÄÇ</li>
</ol>

<h3 id="Èñ¢Êï∞ÂûãÂêàÊàê„Å®-for-ÂÜÖÂåÖË°®Ë®ò">Èñ¢Êï∞ÂûãÂêàÊàê„Å® for ÂÜÖÂåÖË°®Ë®ò</h3>

<p>‰∏ä„Åß„Åø„Åü„Ç≥„Éº„É´„Éê„ÉÉ„ÇØÊ©üÊßã„Å´„Çà„Çä Future „ÅÆÁµêÊûú„ÇíÂæåÁ∂ö„ÅÆË®àÁÆó„Å´ÈÄ£Èéñ„Åô„Çã„Åì„Å®„ÅåÂèØËÉΩ„Å®„Å™„Å£„Åü„ÄÇ
„Åó„Åã„Åó„ÄÅÂ†¥Âêà„Å´„Çà„Å£„Å¶„ÅØ‰∏ç‰æø„Å†„Å£„Åü„Çä„ÄÅ„Ç≥„Éº„Éâ„ÅåËÇ•Â§ßÂåñ„Åô„Çã„Åì„Å®„ÇÇ„ÅÇ„Çã„ÄÇ
ÂÖ∑‰Ωì‰æã„ÅßË™¨Êòé„Åó„Çà„ÅÜ„ÄÇ
ÁÇ∫Êõø„Éà„É¨„Éº„Éâ„Çµ„Éº„Éì„Çπ„ÅÆ API „Åå„ÅÇ„Å£„Å¶„ÄÅÁ±≥„Éâ„É´„ÇíÊúâÂà©„Å™Â†¥Âêà„ÅÆ„ÅøË≤∑„ÅÑ„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
„Åæ„Åö„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰Ωø„Å£„Å¶„Åì„Çå„ÇíÂÆüÁèæ„Åó„Å¶„Åø„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val rateQuote = Future {
  connection.getCurrentValue(USD)
}

rateQuote onSuccess { case quote =&gt;
  val purchase = Future {
    if (isProfitable(quote)) connection.buy(amount, quote)
    else throw new Exception("ÊúâÁõä„Åß„ÅØ„Å™„ÅÑ")
  }

  purchase onSuccess {
    case _ =&gt; println(amount + " USD „ÇíË≥ºÂÖ•„Åó„Åü")
  }
}
</code></pre></div></div>

<p>„Åæ„Åö„ÅØÁèæÂú®„ÅÆÁÇ∫ÊõøÁõ∏Â†¥„ÇíÂèñÂæó„Åô„Çã <code class="highlighter-rouge">rateQuote</code> „Å®„ÅÑ„ÅÜ <code class="highlighter-rouge">Future</code> „Çí‰Ωú„Çã„ÄÇ
„Åì„ÅÆÂÄ§„Åå„Çµ„Éº„Éê„Åã„ÇâÂèñÂæó„Åß„Åç„Å¶ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅË®àÁÆó„ÅØ
<code class="highlighter-rouge">onSuccess</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Å´ÈÄ≤„Åø„ÄÅ„Åì„Åì„ÅßË≤∑„ÅÜ„Åã„Å©„ÅÜ„Åã„ÅÆÊ±∫Êñ≠„Çí„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
„Åì„Åì„Åß„ÇÇ„ÅÜ 1„Å§„ÅÆ Future „Åß„ÅÇ„Çã <code class="highlighter-rouge">purchase</code> „Çí‰Ωú„Å£„Å¶„ÄÅÊúâÂà©„Å™Â†¥Âêà„ÅÆ„ÅøË≤∑„ÅÜÊ±∫ÂÆö„Çí„Åó„Å¶„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°„Åô„Çã„ÄÇ
ÊúÄÂæå„Å´„ÄÅ<code class="highlighter-rouge">purchase</code> „ÅåÂÆå‰∫Ü„Åô„Çã„Å®„ÄÅÈÄöÁü•„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÊ®ôÊ∫ñÂá∫Âäõ„Å´Ë°®Á§∫„Åô„Çã„ÄÇ</p>

<p>„Åì„Çå„ÅØÂãï‰Ωú„Åô„Çã„Åå„ÄÅ2„Å§„ÅÆÁêÜÁî±„Å´„Çà„Çä‰∏ç‰æø„Å†„ÄÇ
Á¨¨‰∏Ä„Å´„ÄÅ<code class="highlighter-rouge">onSuccess</code> „Çí‰Ωø„Çè„Å™„Åè„Å¶„ÅØ„ÅÑ„Åë„Å™„Åè„Å¶„ÄÅ2„Å§ÁõÆ„ÅÆ Future „Åß„ÅÇ„Çã
<code class="highlighter-rouge">purchase</code> „Çí„Åù„ÅÆ‰∏≠„Å´ÂÖ•„ÇåÂ≠ê„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Åì„Å®„Å†„ÄÇ
‰æã„Åà„Å∞ <code class="highlighter-rouge">purchase</code> „ÅåÂÆå‰∫Ü„Åó„ÅüÂæå„Å´Âà•„ÅÆË≤®Âπ£„ÇíÂ£≤Âç¥„Åó„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
„Åù„Çå„ÅØ„Åæ„Åü <code class="highlighter-rouge">onSuccess</code> „ÅÆ‰∏≠„Åß„Åì„ÅÆ„Éë„Çø„Éº„É≥„ÇíÁπ∞„ÇäËøî„Åô„Åì„Å®„Å´„Å™„Çä„ÄÅ„Ç§„É≥„Éá„É≥„Éà„Åó„Åô„Åé„ÅßÁêÜËß£„Åó„Å•„Çâ„ÅèËÇ•Â§ßÂåñ„Åó„Åü„Ç≥„Éº„Éâ„Å®„Å™„Çã„ÄÇ</p>

<p>Á¨¨‰∫å„Å´„ÄÅ<code class="highlighter-rouge">purchase</code> „ÅØ‰ªñ„ÅÆ„Ç≥„Éº„Éâ„ÅÆ„Çπ„Ç≥„Éº„ÉóÂ§ñ„Å´„ÅÇ„Çä„ÄÅ<code class="highlighter-rouge">onSuccess</code>
„Ç≥„Éº„É´„Éê„ÉÉ„ÇØÂÜÖ„Å´„Åä„ÅÑ„Å¶„ÅÆ„ÅøÊìç‰Ωú„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆ‰ªñ„ÅÆÈÉ®ÂàÜ„ÅØ <code class="highlighter-rouge">purchase</code> „ÇíË¶ã„Çã„Åì„Å®„Åå„Åß„Åç„Åö„ÄÅ‰ªñ„ÅÆË≤®Âπ£„ÇíÂ£≤„Çã„Åü„ÇÅ„Å´Âà•„ÅÆ
<code class="highlighter-rouge">onSuccess</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÇíÁôªÈå≤„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Å™„ÅÑ„ÄÇ</p>

<p>„Åì„Çå„Çâ„ÅÆ 2„Å§„ÅÆÁêÜÁî±„Åã„Çâ Future „ÅØ„Çà„ÇäËá™ÁÑ∂„Å™ÂêàÊàê„ÇíË°å„ÅÜ„Ç≥„É≥„Éì„Éç„Éº„Çø„ÇíÊèê‰æõ„Åô„Çã„ÄÇ
Âü∫Êú¨ÁöÑ„Å™„Ç≥„É≥„Éì„Éç„Éº„Çø„ÅÆ 1„Å§„Åå <code class="highlighter-rouge">map</code> „Åß„ÄÅ„Åì„Çå„ÅØ‰∏é„Åà„Çâ„Çå„Åü Future
„Å®„Åù„ÅÆÂÄ§„Å´ÂØæ„Åô„ÇãÊäïÂ∞ÑÈñ¢Êï∞„Åã„Çâ„ÄÅÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„Å´ÊäïÂ∞Ñ„Åó„ÅüÂÄ§„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„ÇãÊñ∞„Åó„ÅÑ Future „ÇíÁîüÊàê„Åô„Çã„ÄÇ
Future „ÅÆÊäïÂ∞Ñ„ÅØ„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥„ÅÆÊäïÂ∞Ñ„Å®ÂêåÊßò„Å´ËÄÉ„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ</p>

<p>‰∏ä„ÅÆ‰æã„Çí <code class="highlighter-rouge">map</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„Çí‰Ωø„Å£„Å¶Êõ∏„ÅçÊèõ„Åà„Å¶„Åø„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val rateQuote = Future {
  connection.getCurrentValue(USD)
}

val purchase = rateQuote map { quote =&gt;
  if (isProfitable(quote)) connection.buy(amount, quote)
  else throw new Exception("ÊúâÁõä„Åß„ÅØ„Å™„ÅÑ")
}

purchase onSuccess {
  case _ =&gt; println(amount + " USD „ÇíË≥ºÂÖ•„Åó„Åü")
}
</code></pre></div></div>

<p><code class="highlighter-rouge">rateQuote</code> „Å´ÂØæ„Åó„Å¶ <code class="highlighter-rouge">map</code> „Çí‰Ωø„ÅÜ„Åì„Å®„Åß <code class="highlighter-rouge">onSuccess</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰∏ÄÂàá‰Ωø„Çè„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ
„Åù„Çå„Å®„ÄÅ„Çà„ÇäÈáçË¶Å„Å™„ÅÆ„ÅåÂÖ•„ÇåÂ≠ê„ÅåÁÑ°„Åè„Å™„Å£„Åü„Åì„Å®„Å†„ÄÇ
„Åì„Åì„Åß‰ªñ„ÅÆË≤®Âπ£„ÇíÂ£≤Âç¥„Åó„Åü„ÅÑ„Å®ÊÄù„Åà„Å∞„ÄÅ<code class="highlighter-rouge">purchase</code> „Å´ÂÜç„Å≥ <code class="highlighter-rouge">map</code> „Åô„Çã„Å†„Åë„Åß„ÅÑ„ÅÑ„ÄÇ</p>

<p>„Åó„Åã„Åó„ÄÅ<code class="highlighter-rouge">isProfitable</code> „Åå <code class="highlighter-rouge">false</code> „ÇíËøî„Åó„Å¶„ÄÅ‰æãÂ§ñ„ÅåÊäï„Åí„Çâ„Çå„ÅüÂ†¥Âêà„ÅØ„Å©„ÅÜ„Å™„Çã„Å†„Çç„ÅÜ?
„Åù„ÅÆÂ†¥Âêà„ÅØ <code class="highlighter-rouge">purchase</code> „ÅØ‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ
„Åï„Çâ„Å´„ÄÅ„Ç≥„Éç„ÇØ„Ç∑„Éß„É≥„ÅåÂ£ä„Çå„Å¶ <code class="highlighter-rouge">getCurrentValue</code> „Åå‰æãÂ§ñ„ÇíÊäï„Åí„Å¶ <code class="highlighter-rouge">rateQuote</code>
„ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÇíÊÉ≥ÂÉè„Åó„Å¶„Åª„Åó„ÅÑ„ÄÇ
„Åù„ÅÆÂ†¥Âêà„ÅØ„ÄÅÊäïÂ∞Ñ„Åô„ÇãÂÄ§„ÅåÁÑ°„ÅÑ„Åü„ÇÅ <code class="highlighter-rouge">purchase</code> „ÅØËá™ÂãïÁöÑ„Å´ <code class="highlighter-rouge">rateQuote</code> „Å®Âêå„Åò‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ</p>

<p>ÁµêÊûú„Å®„Åó„Å¶„ÄÅ„ÇÇ„ÅóÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅËøî„Åï„Çå„Çã Future „ÅØÂÖÉ„ÅÆ Future „ÅÆÂÄ§„ÇíÊäïÂ∞Ñ„Åó„Åü„ÇÇ„ÅÆ„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã„ÄÇ
„ÇÇ„ÅóÊäïÂ∞ÑÈñ¢Êï∞„Åå‰æãÂ§ñ„ÇíÊäï„Åí„ÅüÂ†¥Âêà„ÅØ Future „ÅØ„Åù„ÅÆ‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã„ÄÇ
„ÇÇ„ÅóÂÖÉ„ÅÆ Future „Åå‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅËøî„Åï„Çå„Çã Future „ÇÇÂêå„Åò‰æãÂ§ñ„ÇíÊåÅ„Å§„ÄÇ
„Åì„ÅÆ‰æãÂ§ñ„Çí‰ºùÊê¨„Åï„Åõ„ÇãÊÑèÂë≥Ë´ñ„ÅØ‰ªñ„ÅÆ„Ç≥„É≥„Éì„Éç„Éº„Çø„Å´„Åä„ÅÑ„Å¶„ÇÇÂêåÊßò„Å†„ÄÇ</p>

<p>Future „ÅÆË®≠Ë®àÊåáÈáù„ÅÆ 1„Å§„ÅØ for ÂÜÖÂåÖË°®Ë®ò„Åã„ÇâÂà©Áî®„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã„Åì„Å®„Å†„Å£„Åü„ÄÇ
„Åì„ÅÆ„Åü„ÇÅ„ÄÅFuture „ÅØ <code class="highlighter-rouge">flatMap</code>„ÄÅ<code class="highlighter-rouge">filter</code> „Åù„Åó„Å¶ <code class="highlighter-rouge">foreach</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÇíÊåÅ„Å§„ÄÇ
<code class="highlighter-rouge">flatMap</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØÂÄ§„ÇíÊñ∞„Åó„ÅÑ Future <code class="highlighter-rouge">g</code> „Å´ÊäïÂ∞Ñ„Åô„ÇãÈñ¢Êï∞„ÇíÂèó„ÅëÂèñ„Çä„ÄÅ<code class="highlighter-rouge">g</code>
„ÅåÂÆå‰∫Ü„Åó„Åü„Å®„Åç„Å´ÂÆå‰∫Ü„Åô„ÇãÊñ∞„Åü„Å™ Future „ÇíËøî„Åô„ÄÇ</p>

<p>Á±≥„Éâ„É´„Çí„Çπ„Ç§„Çπ„Éª„Éï„É©„É≥ (CHF) „Å®‰∫§Êèõ„Åó„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
‰∏°Êñπ„ÅÆË≤®Âπ£„ÅÆÁÇ∫Êõø„É¨„Éº„Éà„ÇíÂèñÂæó„Åó„Å¶„ÄÅ‰∏°ËÄÖ„ÅÆÂÄ§„Å´Âøú„Åò„Å¶Ë≥ºÂÖ•„ÇíÊ±∫ÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ
‰ª•‰∏ã„Å´ for ÂÜÖÂåÖË°®Ë®ò„Çí‰Ωø„Å£„Åü <code class="highlighter-rouge">flatMap</code> „Å® <code class="highlighter-rouge">withFilter</code> „ÅÆ‰æã„Çí„Åø„Å¶„Åø„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val usdQuote = Future { connection.getCurrentValue(USD) }
val chfQuote = Future { connection.getCurrentValue(CHF) }

val purchase = for {
  usd &lt;- usdQuote
  chf &lt;- chfQuote
  if isProfitable(usd, chf)
} yield connection.buy(amount, chf)

purchase onSuccess {
  case _ =&gt; println(amount + " CHF „ÇíË≥ºÂÖ•„Åó„Åü")
}
</code></pre></div></div>

<p>„Åì„ÅÆ <code class="highlighter-rouge">purchase</code> „ÅØ <code class="highlighter-rouge">usdQuote</code> „Å® <code class="highlighter-rouge">chfQuote</code> „ÅåÂÆå‰∫Ü„Åó„ÅüÂ†¥Âêà„ÅÆ„ÅøÂÆå‰∫Ü„Åô„Çã„ÄÇ
„Åì„Çå„Çâ 2„Å§„ÅÆ Future „ÅÆÂÄ§„Å´‰æùÂ≠ò„Åô„Çã„Åü„ÇÅ„ÄÅ„Åù„Çå„Çà„Çä„ÇÇÊó©„ÅèËá™ÂàÜ„ÅÆË®àÁÆó„ÇíÂßã„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„Å™„ÅÑ„ÄÇ</p>

<p>‰∏ä„ÅÆ for ÂÜÖÂåÖË°®Ë®ò„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÁøªË®≥„Åï„Çå„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val purchase = usdQuote flatMap {
  usd =&gt;
  chfQuote
    .withFilter(chf =&gt; isProfitable(usd, chf))
    .map(chf =&gt; connection.buy(amount, chf))
}
</code></pre></div></div>

<p>„Åì„Çå„ÅØ for ÂÜÖÂåÖË°®Ë®ò„Å´ÊØî„Åπ„Å¶ÂàÜ„Åã„Çä„Å•„Çâ„ÅÑ„Åå„ÄÅ<code class="highlighter-rouge">flatMap</code> ÊºîÁÆó„Çí„Çà„ÇäËâØ„ÅèÁêÜËß£„Åô„Çã„Åü„ÇÅ„Å´Ëß£Êûê„Åó„Å¶„Åø„Çà„ÅÜ„ÄÇ
<code class="highlighter-rouge">flatMap</code> ÊºîÁÆó„ÅØËá™Ë∫´„ÅÆÂÄ§„ÇíÂà•„ÅÆ Future „Å∏„Å®ÊäïÂ∞Ñ„Åô„Çã„ÄÇ
„Åì„ÅÆÂà•„ÅÆ Future „ÅåÂÆå‰∫Ü„Åô„Çã„Å®„ÄÅÊàª„ÇäÂÄ§„ÅÆ Future „ÇÇ„Åù„ÅÆÂÄ§„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã„ÄÇ
‰∏äË®ò„ÅÆ‰æã„Åß„ÅØ„ÄÅ<code class="highlighter-rouge">flatMap</code> „ÅØ <code class="highlighter-rouge">usdQuote</code> Future „ÅÆÂÄ§„ÇíÁî®„ÅÑ„Å¶ <code class="highlighter-rouge">chfQuote</code>
„ÅÆÂÄ§„Çí„ÅÇ„ÇãÁâπÂÆö„ÅÆÂÄ§„ÅÆ„Çπ„Ç§„Çπ„Éª„Éï„É©„É≥„ÇíË≥ºÂÖ•„Åô„Çã„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ø°„Åô„Çã 3„Å§ÁõÆ„ÅÆ Future „Å´ÊäïÂ∞Ñ„Åó„Å¶„ÅÑ„Çã„ÄÇ
ÁµêÊûú„ÅÆ Future „Åß„ÅÇ„Çã <code class="highlighter-rouge">purchase</code> „ÅØ„ÄÅ„Åì„ÅÆ 3„Å§ÁõÆ„ÅÆ Future „Åå <code class="highlighter-rouge">map</code> „Åã„ÇâÂ∏∞„Å£„Å¶„Åç„ÅüÂæå„Å´„ÅÆ„ÅøÂÆå‰∫Ü„Åô„Çã„ÄÇ</p>

<p>„Åì„Çå„ÅØÈõ£Ëß£„Å†„Åå„ÄÅÂπ∏„ÅÑ„Å™‰∫ã„Å´ <code class="highlighter-rouge">flatMap</code> ÊºîÁÆó„ÅØ‰Ωø„ÅÑ„ÇÑ„Åô„Åè„ÄÅ„Åæ„ÅüÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ
for ÂÜÖÂåÖË°®Ë®ò‰ª•Â§ñ„ÅÆÂ†¥Âêà„ÅØ„ÅÇ„Åæ„Çä‰Ωø„Çè„Çå„Å™„ÅÑ„ÄÇ</p>

<p><code class="highlighter-rouge">filter</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØ„ÄÅÂÖÉ„ÅÆ Future „ÅÆÂÄ§„ÅåÊù°‰ª∂Èñ¢Êï∞„ÇíÊ∫Ä„Åü„Åó„ÅüÂ†¥Âêà„ÅÆ„Åø„Åù„ÅÆÂÄ§„ÇíÊåÅ„Å§Êñ∞„Åü„Å™ Future „Çí‰ΩúÊàê„Åô„Çã„ÄÇ
„Åù„Çå‰ª•Â§ñ„ÅÆÂ†¥Âêà„ÅØÊñ∞„Åó„ÅÑ Future „ÅØ <code class="highlighter-rouge">NoSuchElementException</code> „Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ
Future „Å´Èñ¢„Åó„Å¶„ÅØ„ÄÅ<code class="highlighter-rouge">filter</code> „ÅÆÂëº„Å≥Âá∫„Åó„ÅØ <code class="highlighter-rouge">withFilter</code> „ÅÆÂëº„Å≥Âá∫„Åó„Å®ÂÖ®„ÅèÂêåÊßò„ÅÆÂäπÊûú„Åå„ÅÇ„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">collect</code> „Å® <code class="highlighter-rouge">filter</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅÆÈñ¢‰øÇ„ÅØ„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ API „Å´„Åä„Åë„Çã„Åì„Çå„Çâ„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅÆÈñ¢‰øÇ„Å´‰ºº„Å¶„ÅÑ„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">foreach</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅßÊ≥®ÊÑè„Åó„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Å™„ÅÑ„ÅÆ„ÅØÂÄ§„ÅåÂà©Áî®ÂèØËÉΩ„Å®„Å™„Å£„ÅüÂ†¥Âêà„Å´Ëµ∞Êüª„Åô„Çã„ÅÆ„Å´„Éñ„É≠„ÉÉ„ÇØ„Åó„Å™„ÅÑ„Å®„ÅÑ„ÅÜ„Åì„Å®„Å†„ÄÇ
„Åã„Çè„Çä„Å´„ÄÅ<code class="highlighter-rouge">foreach</code> „ÅÆ„Åü„ÇÅ„ÅÆÈñ¢Êï∞„ÅØ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅÆ„ÅøÈùûÂêåÊúü„Å´ÂÆüË°å„Åï„Çå„Çã„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">foreach</code> „ÅØ <code class="highlighter-rouge">onSuccess</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Å®ÂÖ®„ÅèÂêå„ÅòÊÑèÂë≥„ÇíÊåÅ„Å§„ÄÇ</p>

<p><code class="highlighter-rouge">Future</code> „Éà„É¨„Ç§„Éà„ÅØÊ¶ÇÂøµÁöÑ„Å´ (Ë®àÁÆóÁµêÊûú„Å®‰æãÂ§ñ„Å®„ÅÑ„ÅÜ) 2„Å§„ÅÆÂûã„ÅÆÂÄ§„Çí‰øùÊåÅ„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Åü„ÇÅ„ÄÅ‰æãÂ§ñÂá¶ÁêÜ„ÅÆ„Åü„ÇÅ„ÅÆ„Ç≥„É≥„Éì„Éç„Éº„Çø„ÅåÂøÖË¶Å„Å®„Å™„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">rateQuote</code> „Å´Âü∫„ÅÑ„Å¶‰Ωï„Çâ„Åã„ÅÆÈ°ç„ÇíË≤∑„ÅÜ„Å®„Åô„Çã„ÄÇ
<code class="highlighter-rouge">connection.buy</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØ <code class="highlighter-rouge">amount</code> „Å®ÊúüÂæÖ„Åô„Çã <code class="highlighter-rouge">quote</code> „ÇíÂèó„ÅëÂèñ„Çã„ÄÇ
„Åì„Çå„ÅØË≤∑„Çè„Çå„ÅüÈ°ç„ÇíËøî„Åô„ÄÇ
<code class="highlighter-rouge">quote</code> „Å´Â§âÊõ¥„Åå„ÅÇ„Å£„ÅüÂ†¥Âêà„ÅØ„ÄÅ‰Ωï„ÇÇË≤∑„Çè„Åö„Å´ <code class="highlighter-rouge">QuoteChangedException</code> „ÇíÊäï„Åí„Çã„ÄÇ
‰æãÂ§ñ„ÅÆ‰ª£„Çè„Çä„Å´ <code class="highlighter-rouge">0</code> „ÇíÊåÅ„Å§ Future „Çí‰Ωú„Çä„Åü„Åë„Çå„Å∞ <code class="highlighter-rouge">recover</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÇíÁî®„ÅÑ„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val purchase: Future[Int] = rateQuote map {
  quote =&gt; connection.buy(amount, quote)
} recover {
  case QuoteChangedException() =&gt; 0
}
</code></pre></div></div>

<p><code class="highlighter-rouge">recover</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØÂêå‰∏Ä„ÅÆÁµêÊûú„ÇíÊåÅ„Å§Êñ∞„Åü„Å™ Future
„Çí‰ΩúÊàê„Åô„Çã„ÄÇÊàêÂäü„Åó„Å™„Åã„Å£„ÅüÂ†¥Âêà„ÅØ„ÄÅÂÖÉ„ÅÆ Future „ÇíÂ§±Êïó„Åï„Åõ„Åü <code class="highlighter-rouge">Throwable</code>
„Å´Ê∏°„Åï„Çå„ÅüÈÉ®ÂàÜÈñ¢Êï∞„ÅåÈÅ©Áî®„Åï„Çå„Çã„ÄÇ
„ÇÇ„Åó„Åù„Çå„Åå <code class="highlighter-rouge">Throwable</code> „Çí‰Ωï„Çâ„Åã„ÅÆÂÄ§„Å´ÊäïÂ∞Ñ„Åô„Çå„Å∞„ÄÅÊñ∞„Åó„ÅÑ Future „ÅØ„Åù„ÅÆÂÄ§„Å®„Å®„ÇÇ„Å´ÊàêÂäü„Åô„Çã„ÄÇ
„ÇÇ„Åó„Åù„ÅÆ <code class="highlighter-rouge">Throwable</code> „Å´Èñ¢„Åó„Å¶ÈÉ®ÂàÜÈñ¢Êï∞„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Å™„Åë„Çå„Å∞„ÄÅÁµêÊûú„Å®„Å™„Çã
Future „ÅØÂêå„Åò <code class="highlighter-rouge">Throwable</code> „Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">recoverWith</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØÂêå‰∏Ä„ÅÆÁµêÊûú„ÇíÊåÅ„Å§Êñ∞„Åü„Å™ Future
„Çí‰ΩúÊàê„Åô„Çã„ÄÇÊàêÂäü„Åó„Å™„Åã„Å£„ÅüÂ†¥Âêà„ÅØ„ÄÅÂÖÉ„ÅÆ Future „ÇíÂ§±Êïó„Åï„Åõ„Åü <code class="highlighter-rouge">Throwable</code>
„Å´Ê∏°„Åï„Çå„ÅüÈÉ®ÂàÜÈñ¢Êï∞„ÅåÈÅ©Áî®„Åï„Çå„Çã„ÄÇ
„ÇÇ„Åó„Åù„Çå„Åå <code class="highlighter-rouge">Throwable</code> „Çí‰Ωï„Çâ„Åã„ÅÆ Future „Å´ÊäïÂ∞Ñ„Åô„Çå„Å∞„ÄÅÊñ∞„Åó„ÅÑ Future „ÅØ„Åù„ÅÆ Future „Å®„Å®„ÇÇ„Å´ÊàêÂäü„Åô„Çã„ÄÇ
<code class="highlighter-rouge">recover</code> „Å´ÂØæ„Åô„ÇãÈñ¢‰øÇ„ÅØ <code class="highlighter-rouge">flatMap</code> „Å® <code class="highlighter-rouge">map</code> „ÅÆÈñ¢‰øÇ„Å´‰ºº„Å¶„ÅÑ„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">fallbackTo</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØÂêå‰∏Ä„ÅÆÁµêÊûú„ÇíÊåÅ„Å°„ÄÅÊàêÂäü„Åó„Å™„Åã„Å£„ÅüÂ†¥Âêà„ÅØÂºïÊï∞„Å®„Åó„Å¶Ê∏°„Åï„Çå„Åü Future „ÅÆÊàêÂäü„Åó„ÅüÂÄ§„ÇíÊåÅ„Å§Êñ∞„Åü„Å™ Future „Çí‰ΩúÊàê„Åô„Çã„ÄÇ
„Åì„ÅÆ Future „Å®ÂºïÊï∞„ÅÆ Future „Åå‰∏°ÊñπÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅÊñ∞„Åó„ÅÑ Future „ÅØ„Åì„ÅÆ Future „ÅÆ‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ
‰ª•‰∏ã„Å´Á±≥„Éâ„É´„ÅÆÂÄ§„ÇíË°®Á§∫„Åô„Çã„Åì„Å®„ÇíË©¶„Åø„Å¶„ÄÅÁ±≥„Éâ„É´„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØ„Çπ„Ç§„Çπ„Éª„Éï„É©„É≥„ÅÆÂÄ§„ÇíË°®Á§∫„Åô„ÇãÂÖ∑‰Ωì‰æã„Çí„Åø„Å¶„Åø„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val usdQuote = Future {
  connection.getCurrentValue(USD)
} map {
  usd =&gt; "ÂÄ§: " + usd + " USD"
}
val chfQuote = Future {
  connection.getCurrentValue(CHF)
} map {
  chf =&gt; "ÂÄ§: " + chf + "CHF"
}

val anyQuote = usdQuote fallbackTo chfQuote

anyQuote onSuccess { println(_) }
</code></pre></div></div>

<p><code class="highlighter-rouge">andThen</code> „Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØÂâØ‰ΩúÁî®„ÅÆÁõÆÁöÑ„ÅÆ„Åü„ÇÅ„Å†„Åë„Å´Áî®„ÅÑ„Çâ„Çå„Çã„ÄÇ
„Åì„Çå„ÅØ„ÄÅÊàêÂäü„Åó„Åü„ÅãÂ§±Êïó„Åó„Åü„Åã„Å´Èñ¢„Çè„Çâ„ÅöÁèæÂú®„ÅÆ Future „Å®ÂÖ®„ÅèÂêå‰∏Ä„ÅÆÁµêÊûú„ÇíËøî„ÅôÊñ∞„Åü„Å™ Future „Çí‰ΩúÊàê„Åô„Çã„ÄÇ
ÁèæÂú®„ÅÆ Future „ÅåÂÆå‰∫Ü„Åô„Çã„Å®„ÄÅ<code class="highlighter-rouge">andThen</code> „Å´Ê∏°„Åï„Çå„Åü„ÇØ„É≠„Éº„Ç∏„É£„ÅåÂëº„Å≥Âá∫„Åï„Çå„ÄÅÊñ∞„Åü„Å™ Future
„ÅØ„Åì„ÅÆ Future „Å®Âêå„ÅòÁµêÊûú„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã„ÄÇ
„Åì„Çå„ÅØË§áÊï∞„ÅÆ <code class="highlighter-rouge">andThen</code> Âëº„Å≥Âá∫„Åó„ÅåÈ†ÜÂ∫è‰ªò„Åë„Çâ„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Çí‰øùË®º„Åô„Çã„ÄÇ
„ÇΩ„Éº„Ç∑„É£„É´„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Åã„Çâ„ÅÆÊúÄËøë„ÅÆÊäïÁ®øÊñá„ÇíÂèØÂ§â„Çª„ÉÉ„Éà„Å´‰øùÂ≠ò„Åó„Å¶„ÄÅÂÖ®„Å¶„ÅÆÊäïÁ®øÊñá„ÇíÁîªÈù¢„Å´Ë°®Á§∫„Åô„Çã‰ª•‰∏ã„ÅÆÂÖ∑‰Ωì‰æã„Çí„Åø„Å¶„Åø„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val allposts = mutable.Set[String]()

Future {
  session.getRecentPosts
} andThen {
  case Success(posts) =&gt; allposts ++= posts
} andThen {
  case _ =&gt;
  clearAll()
  for (post &lt;- allposts) render(post)
}
</code></pre></div></div>

<p>„Åæ„Å®„ÇÅ„Çã„Å®„ÄÅFuture „Å´ÂØæ„Åô„ÇãÂÖ®„Å¶„ÅÆ„Ç≥„É≥„Éì„Éç„Éº„Çø„ÅØÂÖÉ„ÅÆ Future „Å´Èñ¢ÈÄ£„Åô„ÇãÊñ∞„Åü„Å™ Future
„ÇíËøî„Åô„Åü„ÇÅ„ÄÅÁ¥îÁ≤ãÈñ¢Êï∞Âûã„Å†„Å®„ÅÑ„Åà„Çã„ÄÇ</p>

<h3 id="ÊäïÂ∞Ñ">ÊäïÂ∞Ñ</h3>

<p>‰æãÂ§ñ„Å®„Åó„Å¶Ëøî„Å£„Å¶„Åç„ÅüÁµêÊûú„Å´ÂØæ„Åó„Å¶ for ÂÜÖÂåÖË°®Ë®ò„Åå‰Ωø„Åà„Çã„Çà„ÅÜ„Å´ Future „ÅØÊäïÂ∞Ñ„ÇíÊåÅ„Å§„ÄÇ
ÂÖÉ„ÅÆ Future „ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">failed</code> ÊäïÂ∞Ñ„ÅØ <code class="highlighter-rouge">Throwable</code> Âûã„ÅÆÂÄ§„ÇíÊåÅ„Å§ Future „ÇíËøî„Åô„ÄÇ
„ÇÇ„ÅóÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">failed</code> ÊäïÂ∞Ñ„ÅØ <code class="highlighter-rouge">NoSuchElementException</code>
„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åô„Çã„ÄÇ‰ª•‰∏ã„ÅØ‰æãÂ§ñ„ÇíÁîªÈù¢„Å´Ë°®Á§∫„Åô„ÇãÂÖ∑‰Ωì‰æã„Å†:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f = Future {
  2 / 0
}
for (exc &lt;- f.failed) println(exc)
</code></pre></div></div>

<p>‰ª•‰∏ã„ÅÆ‰æã„ÅØÁîªÈù¢„Å´‰Ωï„ÇÇË°®Á§∫„Åó„Å™„ÅÑ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f = Future {
  4 / 2
}
for (exc &lt;- f.failed) println(exc)
</code></pre></div></div>

<!--
There is another projection called `timedout` which is specific to the
`FutureTimeoutException`. It works in exactly the same way as the
`failed` projection, but is triggered only for this exception type. In
all other cases, it fails with a `NoSuchElementException`.
-->

<!--
TODO: the `failed` projection can be extended to be parametric in
the throwable types it matches.
-->

<!--
Invoking the `Future` construct uses an implicit execution context to start an asynchronous computation. In the case the client desires to use a custom execution context to start an asynchronous computation:

    val f = Future {
      4 / 2
    }(customExecutionContext)
-->

<h3 id="future-„ÅÆÊã°Âºµ">Future „ÅÆÊã°Âºµ</h3>

<p>Future API „Å´„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£„É°„ÇΩ„ÉÉ„Éâ„ÇíËøΩÂä†„Åó„Å¶Êã°Âºµ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã„Åì„Å®„Çí‰∫àÂÆö„Åó„Å¶„ÅÑ„Çã„ÄÇ
„Åì„Çå„Å´„Çà„Å£„Å¶„ÄÅÂ§ñÈÉ®„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„ÅØ„Çà„ÇäÁâπÂåñ„Åó„Åü‰Ωø„ÅÑÊñπ„ÇíÊèê‰æõ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ</p>

<h2 id="„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞">„Éñ„É≠„ÉÉ„Ç≠„É≥„Ç∞</h2>

<p>ÂâçËø∞„ÅÆ„Å®„Åä„Çä„ÄÅÊÄßËÉΩ„Å®„Éá„ÉÉ„Éâ„É≠„ÉÉ„ÇØ„ÅÆÂõûÈÅø„Å®„ÅÑ„ÅÜÁêÜÁî±„Åã„Çâ Future „Çí„Éñ„É≠„ÉÉ„ÇØ„Åó„Å™„ÅÑ„Åì„Å®„ÇíÂº∑„ÅèÊé®Â•®„Åô„Çã„ÄÇ
„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„Å®„Ç≥„É≥„Éì„Éç„Éº„Çø„Çí‰Ωø„ÅÜ„Åì„Å®„Åå Future „ÅÆÁµêÊûú„ÇíÂà©Áî®„Åô„Çã„ÅÆ„Å´ÈÅ©„Åó„ÅüÊñπÊ≥ï„Å†„ÄÇ
„Åó„Åã„Åó„ÄÅÁä∂Ê≥Å„Å´„Çà„Å£„Å¶„ÅØ„Éñ„É≠„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅåÂøÖË¶Å„Å®„Å™„Çã„Åü„ÇÅ„ÄÅFuture API „Å® Promise API
„Å´„Åä„ÅÑ„Å¶„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ</p>

<p>Ââç„Å´„Åø„ÅüÁÇ∫ÊõøÂèñÂºï„ÅÆ‰æã„Å†„Å®„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÊúÄÂæå„Å´ÂÖ®„Å¶„ÅÆ Future
„ÅåÂÆå‰∫Ü„Åô„Çã„Åì„Å®„Çí‰øùË®º„Åô„Çã„Åü„ÇÅ„Å´„Éñ„É≠„ÉÉ„ÇØ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ
Future „ÅÆÁµêÊûú„Å´ÂØæ„Åó„Å¶„Éñ„É≠„ÉÉ„ÇØ„Åô„ÇãÊñπÊ≥ï„Çí‰ª•‰∏ã„Å´ÂÖ∑‰Ωì‰æã„ÅßË™¨Êòé„Åó„Çà„ÅÜ:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.concurrent._
import scala.concurrent.duration._

def main(args: Array[String]) {
  val rateQuote = Future {
    connection.getCurrentValue(USD)
  }

  val purchase = rateQuote map { quote =&gt;
    if (isProfitable(quote)) connection.buy(amount, quote)
    else throw new Exception("ÊúâÁõä„Åß„ÅØ„Å™„ÅÑ")
  }

  Await.result(purchase, 0 nanos)
}
</code></pre></div></div>

<p>Future „ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅÂëº„Å≥Âá∫„ÅóÂÖÉ„Å´„ÅØ Future „ÅåÂ§±Êïó„Åó„Åü‰æãÂ§ñ„ÅåÈÄÅ„Çâ„Çå„Å¶„Åè„Çã„ÄÇ
„Åì„Çå„ÅØ <code class="highlighter-rouge">failed</code> ÊäïÂ∞Ñ„ÇíÂê´„ÇÄ„Åü„ÇÅ„ÄÅÂÖÉ„ÅÆ Future „ÅåÊàêÂäü„Åó„ÅüÂ†¥Âêà„ÅØ
<code class="highlighter-rouge">NoSuchElementException</code> „ÅåÊäï„Åí„Çâ„Çå„Çã„Åì„Å®„Å®„Å™„Çã„ÄÇ</p>

<p>‰ª£„Çè„Çä„Å´„ÄÅ<code class="highlighter-rouge">Await.ready</code> „ÇíÂëº„Å∂„Åì„Å®„Åß Future „ÅåÂÆå‰∫Ü„Åô„Çã„Åæ„ÅßÂæÖÊ©ü„Åô„Çã„Åå„Åù„ÅÆÁµêÊûú„ÇíÂèñÂæó„Åó„Å™„ÅÑ„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
ÂêåÊßò„Å´„ÄÅ„Åì„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÇíÂëº„Çì„Å†ÊôÇ„Å´ Future „ÅåÂ§±Êïó„Åó„Åü„Å®„Åó„Å¶„ÇÇ‰æãÂ§ñ„ÅØÊäï„Åí„Çâ„Çå„Å™„ÅÑ„ÄÇ</p>

<p><code class="highlighter-rouge">Future</code> „Éà„É¨„Ç§„Éà„ÅØ <code class="highlighter-rouge">ready()</code> „Å® <code class="highlighter-rouge">result()</code> „Å®„ÅÑ„ÅÜ„É°„ÇΩ„ÉÉ„Éâ„ÇíÊåÅ„Å§ <code class="highlighter-rouge">Awaitable</code> „Éà„É¨„Ç§„Éà„ÇíÂÆüË£Ö„Åô„Çã„ÄÇ
„Åì„Çå„Çâ„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„Çâ„ÅØÁõ¥Êé•Âëº„Å∞„Çå„Åö„ÄÅÂÆüË°å„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„Åã„Çâ„ÅÆ„ÅøÂëº„Å∞„Çå„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">Awaitable</code> „Éà„É¨„Ç§„Éà„ÇíÂÆüË£Ö„Åô„Çã„Åì„Å®„Å™„Åè„Éñ„É≠„ÉÉ„ÇØ„Åô„ÇãÂèØËÉΩÊÄß„ÅÆ„ÅÇ„ÇãÁ¨¨‰∏âËÄÖ„ÅÆ„Ç≥„Éº„Éâ„ÇíÂëº„Å≥Âá∫„Åô„Åü„ÇÅ„Å´„ÄÅ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´
<code class="highlighter-rouge">blocking</code> ÊßãÊñá„Çí‰Ωø„ÅÜ„Åì„Å®„Åå„Åß„Åç„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>blocking {
  potentiallyBlockingCall()
}
</code></pre></div></div>

<p>„Éñ„É≠„ÉÉ„ÇØ„Åï„Çå„Åü„Ç≥„Éº„Éâ„ÅØ‰æãÂ§ñ„ÇíÊäï„Åí„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ„Åù„ÅÆÂ†¥Âêà„ÅØ„ÄÅÂëº„Å≥Âá∫„ÅóÂÖÉ„Å´‰æãÂ§ñ„ÅåÈÄÅ„Çâ„Çå„Çã„ÄÇ</p>

<h2 id="‰æãÂ§ñÂá¶ÁêÜ">‰æãÂ§ñÂá¶ÁêÜ</h2>

<p>ÈùûÂêåÊúü„ÅÆË®àÁÆó„ÅåÂá¶ÁêÜ„Åï„Çå„Å™„ÅÑ‰æãÂ§ñ„ÇíÊäï„Åí„ÅüÂ†¥Âêà„ÄÅ„Åù„ÅÆË®àÁÆó„ÅåË°å„Çè„Çå„Åü Future „ÅØÂ§±Êïó„Åô„Çã„ÄÇ
Â§±Êïó„Åó„Åü Future „ÅØË®àÁÆóÂÄ§„ÅÆ„Åã„Çè„Çä„Å´ <code class="highlighter-rouge">Throwable</code> „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÊ†ºÁ¥ç„Åô„Çã„ÄÇ
<code class="highlighter-rouge">Future</code> „ÅØ„ÄÅ<code class="highlighter-rouge">Throwable</code> „Å´ÈÅ©Áî®„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã <code class="highlighter-rouge">PartialFunction</code> „ÇíÂèó„ÅëÂèñ„Çã
<code class="highlighter-rouge">onFailure</code> „Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„É°„ÇΩ„ÉÉ„Éâ„ÇíÊèê‰æõ„Åô„Çã„ÄÇ
‰ª•‰∏ã„ÅÆÁâπÂà•„Å™‰æãÂ§ñ„Å´ÂØæ„Åó„Å¶„ÅØÁï∞„Å™„ÇãÂá¶ÁêÜ„ÅåË°å„Çè„Çå„Çã:</p>

<ol>
  <li>
    <p><code class="highlighter-rouge">scala.runtime.NonLocalReturnControl[_]</code>„ÄÇ„Åì„ÅÆ‰æãÂ§ñ„ÅØÊàª„ÇäÂÄ§„Å´Èñ¢ÈÄ£„Åô„ÇãÂÄ§„Çí‰øùÊåÅ„Åô„Çã„ÄÇ
ÂÖ∏ÂûãÁöÑ„Å´„ÅØ„É°„ÇΩ„ÉÉ„ÉâÊú¨ÊñáÂÜÖ„ÅÆ <code class="highlighter-rouge">return</code> ÊßãÊñá„ÅØ„Åì„ÅÆ‰æãÂ§ñ„ÇíÁî®„ÅÑ„Åü <code class="highlighter-rouge">throw</code> „Å∏„Å®ÁøªË®≥„Åï„Çå„Çã„ÄÇ
„Åì„ÅÆ‰æãÂ§ñ„Çí‰øùÊåÅ„Åô„Çã„Åã„Çè„Çä„Å´„ÄÅÈñ¢ÈÄ£„Åô„ÇãÂÄ§„Åå Future „ÇÇ„Åó„Åè„ÅØ Promise „Å´‰øùÂ≠ò„Åï„Çå„Çã„ÄÇ</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">ExecutionException</code>„ÄÇ<code class="highlighter-rouge">InterruptedException</code>„ÄÅ<code class="highlighter-rouge">Error</code>„ÄÅ„ÇÇ„Åó„Åè„ÅØ <code class="highlighter-rouge">scala.util.control.ControlThrowable</code>
„ÅåÂá¶ÁêÜ„Åï„Çå„Å™„ÅÑ„Åì„Å®„ÅßË®àÁÆó„ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„Å´Ê†ºÁ¥ç„Åï„Çå„Çã„ÄÇ
„Åì„ÅÆÂ†¥Âêà„ÅØ„ÄÅÂá¶ÁêÜ„Åï„Çå„Å™„Åã„Å£„Åü‰æãÂ§ñ„ÅØ <code class="highlighter-rouge">ExecutionException</code> „Å´‰øùÊåÅ„Åï„Çå„Çã„ÄÇ
„Åì„Çå„Çâ„ÅÆ‰æãÂ§ñ„ÅØÈùûÂêåÊúüË®àÁÆó„ÇíÂÆüË°å„Åô„Çã„Çπ„É¨„ÉÉ„ÉâÂÜÖ„ÅßÂÜç„Å≥Êäï„Åí„Çâ„Çå„Çã„ÄÇ
„Åì„ÅÆÁêÜÁî±„ÅØ„ÄÅÈÄöÂ∏∏„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÅ¥„ÅßÂá¶ÁêÜ„Åï„Çå„Å™„ÅÑ„ÇØ„É™„ÉÜ„Ç£„Ç´„É´„ÇÇ„Åó„Åè„ÅØÂà∂Âæ°„Éï„É≠„ÉºÈñ¢ÈÄ£„ÅÆ‰æãÂ§ñ„Åå‰ºùÊê¨„Åô„Çã„Åì„Å®„ÇíÂõûÈÅø„Åó„ÄÅÂêåÊôÇ„Å´ Future „ÅÆË®àÁÆó„ÅåÂ§±Êïó„Åó„Åü„Åì„Å®„Çí„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´ÈÄöÁü•„Åô„Çã„Åü„ÇÅ„Å†„ÄÇ</p>
  </li>
</ol>

<p>„Çà„ÇäÊ≠£Á¢∫„Å™ÊÑèÂë≥Ë´ñ„ÅÆË™¨Êòé„ÅØ <a href="http://www.scala-lang.org/api/current/index.html#scala.util.control.NonFatal$"><code class="highlighter-rouge">NonFatal</code></a> „ÇíÂèÇÁÖß„ÄÇ</p>

<h2 id="promise">Promise</h2>

<p>„Åì„Çå„Åæ„Åß„ÅÆÊâÄ„ÄÅ<code class="highlighter-rouge">future</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÁî®„ÅÑ„ÅüÈùûÂêåÊúüË®àÁÆó„Å´„Çà„Çä‰ΩúÊàê„Åï„Çå„Çã <code class="highlighter-rouge">Future</code> „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Åø„Çí„Åø„Å¶„Åç„Åü„ÄÇ
„Åó„Åã„Åó„ÄÅFuture „ÅØ <strong>Promise</strong> „ÇíÁî®„ÅÑ„Å¶‰ΩúÊàê„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ</p>

<p>Future „Åå„É™„Éº„Éâ„Ç™„É≥„É™„Éº„ÅÆ„Åæ„Å†Â≠òÂú®„Åó„Å™„ÅÑÂÄ§„Å´ÂØæ„Åô„Çã„Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„Éª„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ‰∏ÄÁ®Æ„Å†„Å®ÂÆöÁæ©„Åï„Çå„Çã„ÅÆ„Å´ÂØæ„Åó„Å¶„ÄÅPromise
„ÅØÊõ∏„ÅçËæº„ÅøÂèØËÉΩ„Åß„ÄÅ1Â∫¶„Å†„Åë‰ª£ÂÖ•„Åß„Åç„Çã„Ç≥„É≥„ÉÜ„Éä„Åß Future „ÇíÂÆå‰∫Ü„Åï„Åõ„Çã„ÇÇ„ÅÆ„Å†„Å®ËÄÉ„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
„Å§„Åæ„Çä„ÄÅPromise „ÅØ <code class="highlighter-rouge">success</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÁî®„ÅÑ„Å¶ (Á¥ÑÊùü„Çí„ÄåÂÆå‰∫Ü„Åï„Åõ„Çã„Äç„Åì„Å®„Åß) Future „ÇíÂÄ§„Å®„Å®„ÇÇ„Å´ÊàêÂäü„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
ÈÄÜ„Å´„ÄÅPromise  „ÅØ <code class="highlighter-rouge">failure</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÁî®„ÅÑ„Å¶ Future „Çí‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åï„Åõ„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ</p>

<p>Promise „ÅÆ <code class="highlighter-rouge">p</code> „ÅØ <code class="highlighter-rouge">p.future</code> „Å´„Çà„Å£„Å¶Ëøî„Åï„Çå„Çã Future „ÇíÂÆå‰∫Ü„Åï„Åõ„Çã„ÄÇ
„Åì„ÅÆ Future „ÅØ Promise <code class="highlighter-rouge">p</code> „Å´ÁâπÂÆö„ÅÆ„ÇÇ„ÅÆ„Å†„ÄÇÂÆüË£Ö„Å´„Çà„Å£„Å¶„ÅØ <code class="highlighter-rouge">p.future eq p</code> „ÅÆÂ†¥Âêà„ÇÇ„ÅÇ„Çã„ÄÇ</p>

<p>„ÅÇ„ÇãË®àÁÆó„ÅåÂÄ§„ÇíÁîüÁî£„Åó„ÄÅÂà•„ÅÆË®àÁÆó„Åå„Åù„Çå„ÇíÊ∂àË≤ª„Åô„Çã Producer-Consumer „ÅÆÂÖ∑‰Ωì‰æã„Çí‰Ωø„Å£„Å¶Ë™¨Êòé„Åó„Çà„ÅÜ„ÄÇ
„Åì„ÅÆÂÄ§„ÅÆÂèó„ÅëÊ∏°„Åó„ÅØ Promise „Çí‰Ωø„Å£„Å¶ÂÆüÁèæ„Åó„Å¶„ÅÑ„Çã„ÄÇ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.concurrent.{ Future, Promise }
import scala.concurrent.ExecutionContext.Implicits.global

val p = Promise[T]()
val f = p.future

val producer = Future {
  val r = produceSomething()
  p success r
  continueDoingSomethingUnrelated()
}

val consumer = Future {
  startDoingSomething()
  f onSuccess {
    case r =&gt; doSomethingWithResult()
  }
}
</code></pre></div></div>

<p>„Åì„Åì„Åß„ÅØ„ÄÅ„Åæ„Åö Promise „Çí‰Ωú„Å£„Å¶„ÄÅ„Åù„ÅÆ <code class="highlighter-rouge">future</code> „É°„ÇΩ„ÉÉ„Éâ„ÇíÁî®„ÅÑ„Å¶ÂÆå‰∫Ü„Åï„Çå„Çã <code class="highlighter-rouge">Future</code>
„ÇíÂèñÂæó„Åô„Çã„ÄÇ
„Åæ„Åö‰Ωï„Çâ„Åã„ÅÆË®àÁÆó„ÅåÂÆüË°å„Åï„Çå„ÄÅ<code class="highlighter-rouge">r</code> „Å®„ÅÑ„ÅÜÁµêÊûú„Å®„Å™„Çä„ÄÅ„Åì„Çå„ÇíÁî®„ÅÑ„Å¶ Future <code class="highlighter-rouge">f</code> „ÇíÂÆå‰∫Ü„Åï„Åõ„ÄÅ<code class="highlighter-rouge">p</code> „Å®„ÅÑ„ÅÜÁ¥ÑÊùü„ÇíÊûú„Åü„Åô„ÄÇ
„Åì„Åì„ÅßÊ≥®ÊÑè„Åó„Å¶„Åª„Åó„ÅÑ„ÅÆ„ÅØ„ÄÅ<code class="highlighter-rouge">consumer</code> „ÅØ <code class="highlighter-rouge">producer</code> „Åå <code class="highlighter-rouge">continueDoingSomethingUnrelated()</code> „ÇíÂÆüË°å„ÅóÁµÇ„Åà„Å¶„Çø„Çπ„ÇØ„ÅåÂÆå‰∫Ü„Åô„ÇãÂâç„Å´ÁµêÊûú„ÇíÂèñÂæó„Åß„Åç„Çã„Åì„Å®„Å†„ÄÇ</p>

<p>ÂâçËø∞„ÅÆÈÄö„Çä„ÄÅPromise „ÅØ 1Â∫¶„Å†„Åë‰ª£ÂÖ•„Åß„Åç„Çã„Å®„ÅÑ„ÅÜÊÑèÂë≥Ë´ñ„ÇíÊåÅ„Å§„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅÂÆå‰∫Ü„Åï„Åõ„Çã„ÅÆ„ÇÇ 1Âõû„Å†„Åë„Å†„ÄÇ
Êó¢„Å´ÂÆå‰∫Ü („ÇÇ„Åó„Åè„ÅØÂ§±Êïó„Åó„Åü) Promise „Å´ÂØæ„Åó„Å¶ <code class="highlighter-rouge">success</code> „ÇíÂëº„Å≥Âá∫„Åô„Å®
<code class="highlighter-rouge">IllegalStateException</code> „ÅåÊäï„Åí„Çâ„Çå„Çã„ÄÇ</p>

<p>‰ª•‰∏ã„ÅØ Promise „ÇíÂ§±Êïó„Åï„Åõ„ÇãÂÖ∑‰Ωì‰æã„Å†„ÄÇ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val p = Promise[T]()
val f = p.future

val producer = Future {
  val r = someComputation
  if (isInvalid(r))
    p failure (new IllegalStateException)
  else {
    val q = doSomeMoreComputation(r)
    p success q
  }
}
</code></pre></div></div>

<p>„Åì„Åì„Åß„ÅØ <code class="highlighter-rouge">producer</code> „ÅØ‰∏≠ÈñìÁµêÊûú <code class="highlighter-rouge">r</code> „ÇíË®àÁÆó„Åó„Å¶„ÄÅ„Åù„Çå„ÅåÂ¶•ÂΩì„Åß„ÅÇ„Çã„ÅãÊ§úË®º„Åô„Çã„ÄÇ
‰∏çÊ≠£„Åß„ÅÇ„Çå„Å∞„ÄÅPromise <code class="highlighter-rouge">p</code> „Çí‰æãÂ§ñ„ÇíÁî®„ÅÑ„Å¶ÂÆå‰∫Ü„Åï„Åõ„Çã„Åì„Å®„Åß Promise „ÇíÂ§±Êïó„Åï„Åõ„Çã„ÄÇ
„Åù„Çå‰ª•Â§ñ„ÅÆÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">producer</code> „ÅØË®àÁÆó„ÇíÁ∂öË°å„Åó„Å¶ Promise <code class="highlighter-rouge">p</code> „ÇíÂ¶•ÂΩì„Å™ÁµêÊûúÁî®„ÅÑ„Å¶ÂÆå‰∫Ü„Åï„Åõ„Çã„Åì„Å®„Åß„ÄÅFuture
<code class="highlighter-rouge">f</code> „ÇíÂÆå‰∫Ü„Åï„Åõ„Çã„ÄÇ</p>

<p>Promise „ÅØÊΩúÂú®ÁöÑ„Å™ÂÄ§„Åß„ÅÇ„Çã <code class="highlighter-rouge">Try[T]</code> (Â§±Êïó„Åó„ÅüÁµêÊûú„ÅÆ <code class="highlighter-rouge">Failure[Throwable]</code>
„ÇÇ„Åó„Åè„ÅØÊàêÂäü„Åó„ÅüÁµêÊûú„ÅÆ <code class="highlighter-rouge">Success[T]</code>)
„ÇíÂèó„ÅëÂèñ„Çã <code class="highlighter-rouge">complete</code> „É°„ÇΩ„ÉÉ„Éâ„Çí‰Ωø„Å£„Å¶ÂÆå‰∫Ü„Åï„Åõ„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">success</code> ÂêåÊßò„Å´„ÄÅÊó¢„Å´ÂÆå‰∫Ü„Åó„Åü Promise „Å´ÂØæ„Åó„Å¶ <code class="highlighter-rouge">failure</code> „ÇÑ <code class="highlighter-rouge">complete</code> „ÇíÂëº„Å≥Âá∫„Åô„Å®
<code class="highlighter-rouge">IllegalStateException</code> „ÅåÊäï„Åí„Çâ„Çå„Çã„ÄÇ</p>

<p>„Åì„Çå„Åæ„Åß„Å´Ë™¨Êòé„Åó„Åü Promise „ÅÆÊºîÁÆó„Å®„É¢„Éä„Éá„Ç£„ÉÉ„ÇØ„ÅßÂâØ‰ΩúÁî®„ÇíÊåÅ„Åü„Å™„ÅÑÊºîÁÆó„ÇíÁî®„ÅÑ„Å¶ÂêàÊàê„Åó„Åü Future
„Çí‰Ωø„Å£„Å¶Êõ∏„ÅÑ„Åü„Éó„É≠„Ç∞„É©„É†„ÅÆ‰æøÂà©„Å™ÁâπÊÄß„Å®„Åó„Å¶„Åù„Çå„Çâ„ÅåÊ±∫ÂÆöÁöÑ (deterministic) „Åß„ÅÇ„Çã„Åì„Å®„ÅåÊåô„Åí„Çâ„Çå„Çã„ÄÇ
„Åì„Åì„ÅßÊ±∫ÂÆöÁöÑ„Å®„ÅØ„ÄÅ„Éó„É≠„Ç∞„É©„É†„Åß‰æãÂ§ñ„ÅåÊäï„Åí„Çâ„Çå„Å™„Åë„Çå„Å∞„ÄÅ‰∏¶Âàó„Éó„É≠„Ç∞„É©„É†„ÅÆÂÆüË°å„Çπ„Ç±„Ç∏„É•„Éº„É´„ÅÆ„ÅÑ„Åã„Çì„Å´Èñ¢„Çè„Çâ„Åö„Éó„É≠„Ç∞„É©„É†„ÅÆÁµêÊûú
(Future „Åã„ÇâË¶≥Ê∏¨„Åï„Çå„ÇãÂÄ§) „ÅØÂ∏∏„Å´Âêå„Åò„ÇÇ„ÅÆ„Å®„Å™„Çã„Å®„ÅÑ„ÅÜÊÑèÂë≥„Å†„ÄÇ</p>

<p>Â†¥Âêà„Å´„Çà„Å£„Å¶„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØ Promise „ÅåÊó¢„Å´ÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Å™„ÅÑ„Å®„Åç„Å´„ÅÆ„ÅøÂÆå‰∫Ü„Åï„Åõ„Åü„ÅÑ„Åì„Å®„ÇÇ„ÅÇ„Çã
(‰æã„Åà„Å∞„ÄÅË§áÊï∞„ÅÆ HTTP „Åå„Åù„Çå„Åû„ÇåÂà•„ÅÆ Future „Åã„ÇâÂÆüË°å„Åï„Çå„Å¶„ÅÑ„Å¶„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØÊúÄÂàù„ÅÆÊàª„Å£„Å¶„Åç„Åü
HTTP „É¨„Çπ„Éù„É≥„Çπ„Å´„ÅÆ„ÅøËààÂë≥„Åå„ÅÇ„ÇãÂ†¥Âêà„Åß„ÄÅ„Åì„Çå„ÅØÊúÄÂàù„Å´ Promise „ÇíÂÆå‰∫Ü„Åï„Åõ„Çã Future „Å´ÂØæÂøú„Åô„Çã)„ÄÇ
„Åì„Çå„Çâ„ÅÆÁêÜÁî±„ÅÆ„Åü„ÇÅ„ÄÅPromise „Å´„ÅØ <code class="highlighter-rouge">tryComplete</code>„ÄÅ<code class="highlighter-rouge">trySuccess</code>„ÄÅ„Åä„Çà„Å≥ <code class="highlighter-rouge">tryFailure</code> „Å®„ÅÑ„ÅÜ„É°„ÇΩ„ÉÉ„Éâ„Åå„ÅÇ„Çã„ÄÇ
„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØ„Åì„Çå„Çâ„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Çí‰Ωø„Å£„ÅüÂ†¥Âêà„ÅØ„Éó„É≠„Ç∞„É©„É†„ÅÆÁµêÊûú„ÅØÊ±∫ÂÆöÁöÑ„Åß„Å™„Åè„Å™„ÇäÂÆüË°å„Çπ„Ç±„Ç∏„É•„Éº„É´„Å´‰æùÂ≠ò„Åô„Çã„Åì„Å®„Å´Ê≥®ÊÑè„Åô„Çã„Åπ„Åç„Å†„ÄÇ</p>

<p><code class="highlighter-rouge">completeWith</code> „É°„ÇΩ„ÉÉ„Éâ„ÅØÂà•„ÅÆ Future „ÇíÁî®„ÅÑ„Å¶ Promise „ÇíÂÆå‰∫Ü„Åï„Åõ„Çã„ÄÇ
Ê∏°„Åï„Çå„Åü Future „ÅåÂÆå‰∫Ü„Åô„Çã„Å®„ÄÅ„Åù„ÅÆ Promise „ÇÇ Future „ÅÆÂÄ§„Å®„Å®„ÇÇ„Å´ÂÆå‰∫Ü„Åô„Çã„ÄÇ
‰ª•‰∏ã„ÅÆ„Éó„É≠„Ç∞„É©„É†„ÅØ <code class="highlighter-rouge">1</code> „Å®Ë°®Á§∫„Åô„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val f = Future { 1 }
val p = Promise[Int]()

p completeWith f

p.future onSuccess {
  case x =&gt; println(x)
}
</code></pre></div></div>

<p>Promise „Çí‰æãÂ§ñ„Å®„Å®„ÇÇ„Å´Â§±Êïó„Åï„Åõ„ÇãÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">Throwable</code> „ÅÆ 3„Å§„ÅÆ„Çµ„Éñ„Çø„Ç§„Éó„ÅåÁâπÊÆäÊâ±„ÅÑ„Åï„Çå„Çã„ÄÇ
Promise „ÇíÂ§±Êïó„Åï„Åõ„Åü <code class="highlighter-rouge">Throwable</code> „Åå <code class="highlighter-rouge">scala.runtime.NonLocalReturnControl</code>
„ÅÆÂ†¥Âêà„ÅØ„ÄÅPromise „ÅØÈñ¢ÈÄ£„Åô„ÇãÂÄ§„Å´„Çà„Å£„Å¶ÂÆå‰∫Ü„Åï„Åõ„Çã„ÄÇ
Promise „ÇíÂ§±Êïó„Åï„Åõ„Åü <code class="highlighter-rouge">Throwable</code> „Åå <code class="highlighter-rouge">Error</code>„ÄÅ<code class="highlighter-rouge">InterruptedException</code>„ÄÅ„ÇÇ„Åó„Åè„ÅØ
<code class="highlighter-rouge">scala.util.control.ControlThrowable</code> „ÅÆÂ†¥Âêà„ÅØ„ÄÅ<code class="highlighter-rouge">Throwable</code>
„ÅØÊñ∞„Åü„Å™ <code class="highlighter-rouge">ExecutionException</code> „ÅÆÁêÜÁî±„Å®„Åó„Å¶„É©„ÉÉ„Éî„É≥„Ç∞„Åï„Çå Promise „ÅåÂ§±Êïó„Åï„Åõ„Çâ„Çå„Çã„ÄÇ</p>

<p>Promise„ÄÅFuture „ÅÆ <code class="highlighter-rouge">onComplete</code> „É°„ÇΩ„ÉÉ„Éâ„ÄÅ„Åù„Åó„Å¶ <code class="highlighter-rouge">future</code>
ÊßãÊñá„Çí‰Ωø„ÅÜ„Åì„Å®„ÅßÂâçËø∞„ÅÆÈñ¢Êï∞ÂûãÂêàÊàê„Å´Áî®„ÅÑ„Çâ„Çå„Çã„Ç≥„É≥„Éì„Éç„Éº„Çø„ÅÆÂÖ®„Å¶„ÇíÂÆüË£Ö„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
‰æã„Åà„Å∞„ÄÅ2„Å§„ÅÆ Future <code class="highlighter-rouge">f</code> „Å® <code class="highlighter-rouge">g</code> „ÇíÂèó„ÅëÂèñ„Å£„Å¶„ÄÅ(ÊúÄÂàù„Å´ÊàêÂäü„Åó„Åü) <code class="highlighter-rouge">f</code> „Åã <code class="highlighter-rouge">g</code>
„ÅÆ„Å©„Å°„Çâ„Åã„ÇíËøî„Åô <code class="highlighter-rouge">first</code> „Å®„ÅÑ„ÅÜÊñ∞„Åó„ÅÑ„Ç≥„É≥„Éì„Éç„Éº„Çø„ÇíÂÆüË£Ö„Åó„Åü„ÅÑ„Å®„Åô„Çã„ÄÇ
‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„Åè„Åì„Å®„Åå„Åß„Åç„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def first[T](f: Future[T], g: Future[T]): Future[T] = {
  val p = Promise[T]()

  f onSuccess {
    case x =&gt; p.tryComplete(x)
  }

  g onSuccess {
    case x =&gt; p.tryComplete(x)
  }

  p.future
}
</code></pre></div></div>

<!--
## Migration p

scala.actor.Futures?
for clients


## Implementing custom futures and promises p
for library writers
-->

<h2 id="„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£">„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£</h2>

<p>‰∏¶Âàó„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÂÜÖ„Å´„Åä„Åë„ÇãÊôÇÈñì„ÅÆÊâ±„ÅÑ„ÇíÂçòÁ¥îÂåñ„Åô„Çã„Åü„ÇÅ„Å´„ÄÄ<code class="highlighter-rouge">scala.concurrent</code>
„ÅØ <code class="highlighter-rouge">Duration</code> „Å®„ÅÑ„ÅÜÊäΩË±°‰Ωì„ÇíÂ∞éÂÖ•„Åô„Çã„ÄÇ
<code class="highlighter-rouge">Duration</code> „ÅØÊó¢„Å´‰ªñ„Å´„ÇÇ„ÅÇ„Çã‰∏ÄËà¨ÁöÑ„Å™ÊôÇÈñì„ÅÆÊäΩË±°Âåñ„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ
‰∏¶Âàó„É©„Ç§„Éñ„É©„É™„Å®„Å®„ÇÇ„Å´‰Ωø„ÅÜ„Åì„Å®„ÇíÁõÆÁöÑ„Å®„Åô„Çã„Åü„ÇÅ„ÄÅ<code class="highlighter-rouge">scala.concurrent</code> „Éë„ÉÉ„Ç±„Éº„Ç∏ÂÜÖ„Å´ÁΩÆ„Åã„Çå„Å¶„ÅÑ„Çã„ÄÇ</p>

<p><code class="highlighter-rouge">Duration</code> „ÅØÊôÇ„ÅÆÈï∑„Åï„ÇíË°®„ÅôÂü∫Â∫ï„ÇØ„É©„Çπ„Åß„ÄÅ„Åù„Çå„ÅØÊúâÈôê„Åß„ÇÇÁÑ°Èôê„Åß„ÇÇ„ÅÇ„Çä„ÅÜ„Çã„ÄÇ
ÊúâÈôê„ÅÆÊôÇÈñì„ÅØ <code class="highlighter-rouge">FiniteDuration</code> „ÇØ„É©„Çπ„Å´„Çà„Å£„Å¶Ë°®„Åï„Çå <code class="highlighter-rouge">Long</code> „ÅÆÈï∑„Åï„Å® <code class="highlighter-rouge">java.util.concurrent.TimeUnit</code>
„Å´„Çà„Å£„Å¶ÊßãÊàê„Åï„Çå„Çã„ÄÇ
ÁÑ°ÈôêÊôÇÈñì„ÇÇ <code class="highlighter-rouge">Duration</code> „ÇíÁ∂ôÊâø„Åó„ÄÅ„Åì„Çå„ÅØ <code class="highlighter-rouge">Duration.Inf</code> „Å® <code class="highlighter-rouge">Duration.MinusInf</code> „Å®„ÅÑ„ÅÜ 2„Å§„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆ„Åø„ÅåÂ≠òÂú®„Åô„Çã„ÄÇ
„Åì„ÅÆ„É©„Ç§„Éñ„É©„É™„ÅØÊöóÈªô„ÅÆÂ§âÊèõ„ÅÆ„Åü„ÇÅ„ÅÆ„ÅÑ„Åè„Å§„Åã„ÅÆ <code class="highlighter-rouge">Duration</code> „ÅÆ„Çµ„Éñ„ÇØ„É©„Çπ„ÇíÊèê‰æõ„Åô„Çã„Åå„ÄÅ„Åì„Çå„Çâ„ÅØ‰ΩøÁî®„Åï„Çå„Çã„Åπ„Åç„Åß„ÅØ„Å™„ÅÑ„ÄÇ</p>

<p>ÊäΩË±°„ÇØ„É©„Çπ„ÅÆ <code class="highlighter-rouge">Duration</code> „ÅØ‰ª•‰∏ã„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÇíÂÆöÁæ©„Åô„Çã:</p>

<ol>
  <li>ÊôÇÈñì„ÅÆÂçò‰Ωç„ÅÆÂ§âÊèõ (<code class="highlighter-rouge">toNanos</code>„ÄÅ<code class="highlighter-rouge">toMicros</code>„ÄÅ<code class="highlighter-rouge">toMillis</code>„ÄÅ
<code class="highlighter-rouge">toSeconds</code>„ÄÅ<code class="highlighter-rouge">toMinutes</code>„ÄÅ<code class="highlighter-rouge">toHours</code>„ÄÅ<code class="highlighter-rouge">toDays</code>„ÄÅÂèä„Å≥ <code class="highlighter-rouge">toUnit(unit: TimeUnit)</code>)„ÄÇ</li>
  <li>ÊôÇÈñì„ÅÆÊØîËºÉ (<code class="highlighter-rouge">&lt;</code>„ÄÅ<code class="highlighter-rouge">&lt;=</code>„ÄÅ<code class="highlighter-rouge">&gt;</code>„ÄÅ„Åä„Çà„Å≥ <code class="highlighter-rouge">&gt;=</code>)„ÄÇ</li>
  <li>ÁÆóË°ìÊºîÁÆó (<code class="highlighter-rouge">+</code>„ÄÅ<code class="highlighter-rouge">-</code>„ÄÅ<code class="highlighter-rouge">*</code>„ÄÅ<code class="highlighter-rouge">/</code>„ÄÅ„Åä„Çà„Å≥ <code class="highlighter-rouge">unary_-</code>)„ÄÇ</li>
  <li>„Åì„ÅÆÊôÇÈñì <code class="highlighter-rouge">this</code> „Å®ÂºïÊï∞„Å®„Åó„Å¶Ê∏°„Åï„Çå„ÅüÊôÇÈñì„ÅÆÈñì„ÅÆÊúÄÂ∞èÂÄ§„Å®ÊúÄÂ§ßÂÄ§ (<code class="highlighter-rouge">min</code>„ÄÅ<code class="highlighter-rouge">max</code>)„ÄÇ</li>
  <li>ÊôÇÈñì„ÅåÊúâÈôê„Åã„ÅÆÊ§úÊüª (<code class="highlighter-rouge">isFinite</code>)„ÄÇ</li>
</ol>

<p><code class="highlighter-rouge">Duration</code> „ÅØ‰ª•‰∏ã„ÅÆÊñπÊ≥ï„Åß‰ΩúÊàê„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã:</p>

<ol>
  <li><code class="highlighter-rouge">Int</code> „ÇÇ„Åó„Åè„ÅØ <code class="highlighter-rouge">Long</code> Âûã„Åã„Çâ„ÅÆÊöóÈªô„ÅÆÂ§âÊèõ„Åô„Çã„ÄÇ‰æã: <code class="highlighter-rouge">val d = 100 millis</code>„ÄÇ</li>
  <li><code class="highlighter-rouge">Long</code> „ÅÆÈï∑„Åï„Å® <code class="highlighter-rouge">java.util.concurrent.TimeUnit</code> „ÇíÊ∏°„Åô„ÄÇ‰æã: <code class="highlighter-rouge">val d = Duration(100, MILLISECONDS)</code>„ÄÇ</li>
  <li>ÊôÇÈñì„ÅÆÈï∑„Åï„ÇíË°®„ÅôÊñáÂ≠óÂàó„Çí„Éë„Éº„Çπ„Åô„Çã„ÄÇ‰æã: <code class="highlighter-rouge">val d = Duration("1.2 ¬µs")</code>„ÄÇ</li>
</ol>

<p><code class="highlighter-rouge">Duration</code> „ÅØ <code class="highlighter-rouge">unapply</code> „É°„ÇΩ„ÉÉ„Éâ„ÇÇÊèê‰æõ„Åô„Çã„Åü„ÇÅ„ÄÅ„Éë„Éº„Çø„É≥„Éû„ÉÉ„ÉÅ„É≥„Ç∞ÊßãÊñá„ÅÆ‰∏≠„Åã„Çâ‰Ωø„ÅÜ„Åì„Å®„ÇÇ„Åß„Åç„Çã„ÄÇ‰ª•‰∏ã„Å´ÂÖ∑‰Ωì‰æã„Çí„Åø„Çã:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.concurrent.duration._
import java.util.concurrent.TimeUnit._

// ‰ΩúÊàê
val d1 = Duration(100, MILLISECONDS) // from Long and TimeUnit
val d2 = Duration(100, "millis") // from Long and String
val d3 = 100 millis // implicitly from Long, Int or Double
val d4 = Duration("1.2 ¬µs") // from String

// „Éë„Çø„Éº„É≥„Éû„ÉÉ„ÉÅ„É≥„Ç∞
val Duration(length, unit) = 5 millis
</code></pre></div></div>

				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
		<div class="inner-toc" id="sidebar-toc">
      <div id="toc"></div>
      
         
         
        <ul id="available-languages" style="display: none;">
          <li><a href="/docs.scala-lang.org/overviews/core/futures.html">English</a></li>
          
            
            <li><a href="/docs.scala-lang.org/ja/overviews/core/futures.html" class="lang">Êó•Êú¨Ë™û</a></li>
          
            
            <li><a href="/docs.scala-lang.org/zh-cn/overviews/core/futures.html" class="lang">‰∏≠Êñá (ÁÆÄ‰Ωì)</a></li>
          
        </ul>
      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/master/_ja/overviews/core/futures.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/docs.scala-lang.org/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/docs.scala-lang.org/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.12/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="/docs.scala-lang.org/resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="/docs.scala-lang.org/scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="/docs.scala-lang.org/resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>

<!-- moment js -->
<script src="/docs.scala-lang.org/resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="/docs.scala-lang.org/resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="/docs.scala-lang.org/resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="/docs.scala-lang.org/resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="/docs.scala-lang.org/resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="/docs.scala-lang.org/resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="/docs.scala-lang.org/resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="/docs.scala-lang.org/resources/js/vendor/jquery.sticky.js" type="text/javascript"></script>
<script src="/docs.scala-lang.org/resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="/docs.scala-lang.org/resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom javascript -->
<script src="/docs.scala-lang.org/resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'fbc439670f5d4e3730cdcb715c359391',
indexName: 'scala-lang',
inputSelector: '#doc-search-bar',
algoliaOptions: { 'facetFilters': ["language:en"] },
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>

</html>

