<!DOCTYPE html>
<html>
  <head>
    <title>SIP-22 - Async | Scala Documentation</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" href="/docs.scala-lang/resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="/docs.scala-lang/resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/docs.scala-lang/resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/docs.scala-lang/resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/docs.scala-lang/resources/favicon-16x16.png">
    <link rel="manifest" href="/docs.scala-lang/resources/site.webmanifest">
    <link rel="mask-icon" href="/docs.scala-lang/resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="/docs.scala-lang/resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="/docs.scala-lang/resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/docs.scala-lang/resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>


<div class="navigation-fade-screen"></div>

<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="/docs.scala-lang/resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>
<header id="doc-header">
  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      <a href="/docs.scala-lang/" class="navigation-bdand">
        <img src="/docs.scala-lang/resources/img/documentation-logo@2x.png" alt="">
      </a>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    <a href="/docs.scala-lang/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/books.html">Books</a>
                  </li>
                
                  <li>
                    <a href="/docs.scala-lang/tutorials/FAQ/index.html">Scala FAQs</a>
                  </li>
                
                  <li>
                    <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              <a href="/docs.scala-lang/sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="https://www.scala-lang.org/files/archive/nightly/2.12.x/api/2.12.x/">Nightly</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="/docs.scala-lang/overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/books.html">Books</a>
              </li>
            
              <li>
                <a href="/docs.scala-lang/tutorials/FAQ/index.html">Scala FAQs</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.12/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="/docs.scala-lang/style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="/docs.scala-lang/cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="/docs.scala-lang/glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="/docs.scala-lang/sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">

  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        <div class="titles">
          
            <div class="supertitle">&nbsp;</div>
          
          <h1>SIP-22 - Async</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box toc-context">
				<p><strong>By: Philipp Haller and Jason Zaugg</strong></p>

<h2 id="introduction">Introduction</h2>

<p>This is a proposal to add constructs that simplify asynchronous and concurrent programming in Scala. The main constructs, async and await, are inspired by similar constructs introduced in C# 5.0. The main purpose of async/await is to make it possible to express efficient asynchronous code in a familiar direct style (where suspending operations look as if they were blocking). As a result, non-blocking code using Scala’s futures API [<a href="http://docs.scala-lang.org/overviews/core/futures.html" title="ScalaFutures">1</a>] can be expressed without using higher-order functions, such as map and flatMap, or low-level callbacks.</p>

<p>On the level of types, async and await are methods with simple, intuitive types:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def async[T](body: =&gt; T): Future[T]
def await[T](future: Future[T]): T
</code></pre></div></div>

<p>Here, <code class="highlighter-rouge">Future[T]</code> refers to the <code class="highlighter-rouge">Future</code> trait in package <code class="highlighter-rouge">scala.concurrent</code>. (The system can be adapted to other implementations of future-like abstractions; at the moment the API with the required extension points is internal, though.) The above methods are used as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val fut = async {
  slowComputation()
}
</code></pre></div></div>

<p>The async construct marks a block of asynchronous code, and returns a future. Depending on the execution context in the implicit scope (see [<a href="http://docs.scala-lang.org/overviews/core/futures.html" title="ScalaFutures">1</a>]), the block of asynchronous code is either executed on the current thread or in a thread pool. The async block can contain calls to await:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val futureDOY: Future[Response] =
  WS.url("http://api.day-of-year/today").get

val futureDaysLeft: Future[Response] =
  WS.url("http://api.days-left/today").get

val respFut = async {
  val dayOfYear = await(futureDOY).body
  val daysLeft = await(futureDaysLeft).body
  Ok(s"$dayOfYear: $daysLeft days left!")
}
</code></pre></div></div>

<p>Line 1 and 4 define two futures obtained as results of asynchronous requests to two hypothetical web services using an API inspired by Play Framework [<a href="http://www.playframework.com/" title="Play">2</a>] (for the purpose of this example, the definition of type <code class="highlighter-rouge">Response</code> is unimportant). The <code class="highlighter-rouge">await</code> on line 8 causes the execution of the <code class="highlighter-rouge">async</code> block to suspend until <code class="highlighter-rouge">futureDOY</code> is completed (with a successful result or with an exception). When the future is completed successfully, its result is bound to the <code class="highlighter-rouge">dayOfYear</code> val, and the execution of the <code class="highlighter-rouge">async</code> block is resumed. When the future is completed with an exception (for example, because of a timeout), the invocation of <code class="highlighter-rouge">await</code> re-throws the exception that the future was completed with. In turn, this completes future respFut with the same exception. Likewise, the <code class="highlighter-rouge">await</code> on line 9 suspends the execution of the <code class="highlighter-rouge">async</code> block until futureDaysLeft is completed.</p>

<h2 id="comparison-with-scalas-futures-api">Comparison with Scala’s Futures API</h2>

<p>The provided async and await constructs can significantly simplify code coordinating multiple futures. Consider the following example, written using Scala’s futures API together with for-comprehensions:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def nameOfMonth(num: Int): Future[String] = ...
val date = “““(\d+)/(\d+)“““.r

for { doyResponse &lt;- futureDOY
      dayOfYear = doyResponse.body
      response &lt;- dayOfYear match {
        case date(month, day) =&gt;
          for (name &lt;- nameOfMonth(month.toInt))
          yield Ok(s“It’s $name!“)
        case _ =&gt;
          Future.successful(NotFound(“Not a...“))
      }
} yield response
</code></pre></div></div>

<p>Line 1 defines an asynchronous method that converts an integer representing the number of a month to the name of the month (for example, the integer 2 is converted to “February”). Since the method is asynchronous, it returns a <code class="highlighter-rouge">Future[String]</code>. Line 2 defines a regular expression used to extract the month from a date string such as “07/24”. The for-comprehension starting on line 4 first awaits the result of <code class="highlighter-rouge">futureDOY</code> (the example re-uses the definition of <code class="highlighter-rouge">futureDOY</code> shown earlier). Scala’s futures provide methods like <code class="highlighter-rouge">map</code> and <code class="highlighter-rouge">flatMap</code>, and can thus be used as generators in for-comprehensions (for a more in-depth introduction of this feature see the official documentation [<a href="http://docs.scala-lang.org/overviews/core/futures.html" title="ScalaFutures">1</a>]). The use of for-comprehensions can help make future-based code more clear, but in many cases it requires a significant amount of unnatural clutter and workarounds. The above example suffers from the following issues:</p>

<ul>
  <li>To extract <code class="highlighter-rouge">dayOfYear</code>, we are forced to introduce the name <code class="highlighter-rouge">doyResponse</code>, a useless intermediate result (line 4);</li>
  <li>to await the completion of the future returned by <code class="highlighter-rouge">nameOfMonth</code>, we are forced to use a nested for-comprehension (line 8);</li>
  <li>the nested for-comprehension forces us to bind the result of nameOfMonth to name, a useless intermediate variable (line 8);</li>
  <li>the nested for-comprehension forces us to introduce an artificial future that’s completed upon creation (line 11);</li>
  <li>the artificial future introduces additional overhead and garbage (line 11);</li>
  <li>finally, the use of for-yield might obscure the actual domain which is asynchronous computations with non-blocking awaits.</li>
</ul>

<p>The same example can be written using async/await as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>async {
  await(futureDOY).body match {
    case date(month, day) =&gt;
      Ok(s“It’s ${await(nameOfMonth(month.toInt))}!“)
    case _ =&gt;
      NotFound(“Not a date, mate!“)
  }
}
</code></pre></div></div>

<p>This version avoids all drawbacks of the previous version listed above. In addition, the generated code is more efficient, because it creates fewer closures.</p>

<h2 id="illegal-uses">Illegal Uses</h2>

<p>The following uses of await are illegal and are reported as errors:</p>
<ul>
  <li>await requires a directly-enclosing async; this means await must not be used inside a closure nested within an async block, or inside a nested object, trait, or class.</li>
  <li>await must not be used inside an expression passed as an argument to a by-name parameter.</li>
  <li>await must not be used inside a Boolean short-circuit argument.</li>
  <li>return expressions are illegal inside an async block.</li>
</ul>

<h2 id="implementation">Implementation</h2>

<p>We have implemented the present proposal using the macro system which has been introduced in Scala 2.10 as an experimental feature. Our implementation [<a href="https://github.com/scala/async" title="ScalaAsync">3</a>] is targeted at Scala 2.11.0, but runs on using Scala 2.10.1 without any limitations.</p>

<h2 id="async-transform-specification">Async Transform Specification</h2>

<p>In the following we consider the transformation of an invocation <code class="highlighter-rouge">async { &lt;block&gt; }</code> of the async macro.
Before the block of code (<code class="highlighter-rouge">&lt;block&gt;</code>) is transformed, it is normalized into a form amenable to a transformation into a state machine. This form is called the “A-Normal Form” (ANF), and roughly means that:</p>

<ul>
  <li><code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">match</code>, and other control-flow  constructs are only used as statements; they cannot be used as expressions;</li>
  <li>calls to <code class="highlighter-rouge">await</code> are not allowed in compound expressions.</li>
</ul>

<p>After the ANF transform, the async macro prepares the state machine
transformation by identifying vals, vars and defs that are accessed
from multiple states. These will be lifted out to fields in the state
machine object.</p>

<p>The next step of the transformation breaks the code into “chunks.”
Each chunk contains a linear sequence of statements that concludes
with a branching decision, or with the registration of a subsequent
state handler as the continuation (the “on-completion handler”). Once
all chunks have been built, the macro synthesizes a class representing
the state machine. The class contains:</p>

<ul>
  <li>an integer representing the current state ID</li>
  <li>the lifted definitions</li>
  <li>an <code class="highlighter-rouge">apply(value: Try[Any]): Unit</code> method that will be called on completion of each future. The behavior of this method is determined by the current state. It records the downcast result of the future in a field, and calls the <code class="highlighter-rouge">resume()</code> method.</li>
  <li>the <code class="highlighter-rouge">resume(): Unit</code> method that switches on the current state and runs the users code for one “chunk,” and either: (a) registers the state machine as the handler for the next future, or (b) completes the result promise of the async block, if at the terminal state.</li>
  <li>an <code class="highlighter-rouge">apply(): Unit</code> method that starts the evaluation of the async block’s body.</li>
</ul>

<h3 id="example">Example</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val future = async {
  val f1 = async { true }
  val x = 1
  def inc(t: Int) = t + x
  val t = 0
  val f2 = async { 42 }
  if (await(f1)) await(f2) else { val z = 1; inc(t + z) }
}
</code></pre></div></div>

<p>After the ANF transform:</p>
<ul>
  <li><code class="highlighter-rouge">await</code> calls are moved to only appear on the RHS of a value definition;</li>
  <li><code class="highlighter-rouge">if</code> is no longer used as an expression; instead each branch writes its result to a synthetic var;</li>
  <li>the <code class="highlighter-rouge">ExecutionContext</code> used to run the async block is obtained as an implicit argument.</li>
</ul>

<p>Follows the end result of the ANF transform (with very minor
simplifications).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  ();
  val f1: scala.concurrent.Future[Boolean] = {
    scala.concurrent.Future.apply[Boolean](true)(scala.concurrent.ExecutionContext.Implicits.global)
  };
  val x: Int = 1;
  def inc(t: Int): Int = t.+(x);
  val t: Int = 0;
  val f2: scala.concurrent.Future[Int] = {
    scala.concurrent.Future.apply[Int](42)(scala.concurrent.ExecutionContext.Implicits.global)
  };
  val await$1: Boolean = scala.async.Async.await[Boolean](f1);
  var ifres$1: Int = 0;
  if (await$1)
  {
    val await$2: Int = scala.async.Async.await[Int](f2);
    ifres$1 = await$2
  }
  else
  {
    ifres$1 = {
      val z: Int = 1;
      inc(t.+(z))
    }
  };
  ifres$1
}
</code></pre></div></div>

<p>After the full async transform:</p>

<ul>
  <li>
    <p>one class is synthesized that represents the state machine. Its <code class="highlighter-rouge">apply()</code> method is used to start the computation (even the code before the first await call is executed asynchronously), and the <code class="highlighter-rouge">apply(tr: scala.util.Try[Any])</code> method will continue after each completed future that the async block awaits;</p>
  </li>
  <li>
    <p>each chunk of code is moved into the a branch of the pattern match in <code class="highlighter-rouge">resume$async</code>;</p>
  </li>
  <li>
    <p>value and function definitions accessed from multiple states are lifted to be members of class <code class="highlighter-rouge">stateMachine</code>; others remain local, e.g. <code class="highlighter-rouge">val z</code>;</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">result$async</code> holds the promise which is completed with the result of the async block;</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">execContext$async</code> holds the <code class="highlighter-rouge">ExecutionContext</code> that has been inferred.</p>
  </li>
</ul>

<p>Follows the end result of the full async transform (with very minor
simplifications).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  class stateMachine$7 extends StateMachine[scala.concurrent.Promise[Int], scala.concurrent.ExecutionContext] {
    var state$async: Int = 0;
    val result$async: scala.concurrent.Promise[Int] = scala.concurrent.Promise.apply[Int]();
    val execContext$async = scala.concurrent.ExecutionContext.Implicits.global;
    var x$1: Int = 0;
    def inc$1(t: Int): Int = t.$plus(x$1);
    var t$1: Int = 0;
    var f2$1: scala.concurrent.Future[Int] = null;
    var await$1: Boolean = false;
    var ifres$1: Int = 0;
    var await$2: Int = 0;
    def resume$async(): Unit = try {
      state$async match {
        case 0 =&gt; {
          ();
          val f1 = {
            scala.concurrent.Future.apply[Boolean](true)(scala.concurrent.ExecutionContext.Implicits.global)
          };
          x$1 = 1;
          t$1 = 0;
          f2$1 = {
            scala.concurrent.Future.apply[Int](42)(scala.concurrent.ExecutionContext.Implicits.global)
          };
          f1.onComplete(this)(execContext$async)
        }
        case 1 =&gt; {
          ifres$1 = 0;
          if (await$1)
            {
              state$async = 2;
              resume$async()
            }
          else
            {
              state$async = 3;
              resume$async()
            }
        }
        case 2 =&gt; {
          f2$1.onComplete(this)(execContext$async);
          ()
        }
        case 5 =&gt; {
          ifres$1 = await$2;
          state$async = 4;
          resume$async()
        }
        case 3 =&gt; {
          ifres$1 = {
            val z = 1;
            inc$1(t$1.$plus(z))
          };
          state$async = 4;
          resume$async()
        }
        case 4 =&gt; {
          result$async.complete(scala.util.Success.apply(ifres$1));
          ()
        }
      }
    } catch {
      case NonFatal((tr @ _)) =&gt; {
        {
          result$async.complete(scala.util.Failure.apply(tr));
          ()
        };
        ()
      }
    };
    def apply(tr: scala.util.Try[Any]): Unit = state$async match {
      case 0 =&gt; {
        if (tr.isFailure)
          {
            result$async.complete(tr.asInstanceOf[scala.util.Try[Int]]);
            ()
          }
        else
          {
            await$1 = tr.get.asInstanceOf[Boolean];
            state$async = 1;
            resume$async()
          };
        ()
      }
      case 2 =&gt; {
        if (tr.isFailure)
          {
            result$async.complete(tr.asInstanceOf[scala.util.Try[Int]]);
            ()
          }
        else
          {
            await$2 = tr.get.asInstanceOf[Int];
            state$async = 5;
            resume$async()
          };
        ()
      }
    };
    def apply: Unit = resume$async()
  };
  val stateMachine$7: StateMachine[scala.concurrent.Promise[Int], scala.concurrent.ExecutionContext] = new stateMachine$7();
  scala.concurrent.Future.apply(stateMachine$7.apply())(scala.concurrent.ExecutionContext.Implicits.global);
  stateMachine$7.result$async.future
}
</code></pre></div></div>

<h2 id="references">References</h2>

<ol>
  <li><a href="http://docs.scala-lang.org/overviews/core/futures.html" title="ScalaFutures">The Scala Futures API</a></li>
  <li><a href="http://www.playframework.com/" title="Play">The Play! Framework</a></li>
  <li><a href="https://github.com/scala/async" title="ScalaAsync">Scala Async on GitHub</a></li>
</ol>


			</div>
		</div>

		<!-- TOC -->
    <div class="content-nav">
    	<div class="inner-box sidebar-toc-wrapper sip-toc" style="">
      
        <h5 class="contents">SIP Committee Decision</h5>
         <div class="tag" style="background-color: #839496">Dormant</div>
           <p class="vote-text" style="color: #839496">
             Authors have marked this proposal as dormant. Details in the implementation need to be figured out. Check <a href="/sips/minutes-list.html">July 2016's minutes</a>.
           </p>
        
    		<h5 class="contents">SIP Contents</h5>
    		<div class="inner-toc" id="sidebar-toc">
          <div id="toc"></div>
    		</div>
    		<hr>
    		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/master/_sips/sips/2013-06-30-async.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
    	</div>
    </div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/docs.scala-lang/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/docs.scala-lang/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.12/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="/docs.scala-lang/resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="/docs.scala-lang/scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="/docs.scala-lang/resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>

<!-- moment js -->
<script src="/docs.scala-lang/resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="/docs.scala-lang/resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="/docs.scala-lang/resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="/docs.scala-lang/resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="/docs.scala-lang/resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="/docs.scala-lang/resources/js/vendor/jquery.sticky.js" type="text/javascript"></script>
<script src="/docs.scala-lang/resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="/docs.scala-lang/resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom javascript -->
<script src="/docs.scala-lang/resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'fbc439670f5d4e3730cdcb715c359391',
indexName: 'scala-lang',
inputSelector: '#doc-search-bar',
algoliaOptions: { 'facetFilters': ["language:en"] },
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>

</html>

